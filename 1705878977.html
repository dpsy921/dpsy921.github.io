<!-- build time:Fri Nov 08 2019 14:48:43 GMT+0800 (GMT+08:00) --><!DOCTYPE html><html class="theme-next mist" lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta name="google-site-verification" content="-YPbgjltFVFljoCm04Ktk0m38A8CkQxpifuKVZXtawA"><mate name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#222"><meta name="baidu-site-verification" content="6VWurVhWUo"><script>!function(e,t,o,c,i,a,n){e.DaoVoiceObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,a=t.createElement(o),n=t.getElementsByTagName(o)[0],a.async=1,a.src=c,a.charset="utf-8",n.parentNode.insertBefore(a,n)}(window,document,"script",("https:"==document.location.protocol?"https:":"http:")+"//widget.daovoice.io/widget/0f81ff2f.js","daovoice"),daovoice("init",{app_id:"cfec6b9c"}),daovoice("update")</script><script src="/lib/pace/pace.min.js?v=1.0.2"></script><link href="/lib/pace/pace-theme-flash.min.css?v=1.0.2" rel="stylesheet"><script></script><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="https://fonts.loli.net/css?family=Noto Serif SC:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png?v=5.1.4"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png?v=5.1.4"><link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222"><meta name="keywords" content="函数，函数的高级用法，闭包，lambda表达式，装饰器，迭代器，生成器"><link rel="alternate" href="https://danpinsuiyue/atom.xml" title="淡品岁月" type="application/atom+xml"><meta name="description" content="摘要：​ 本博文主要介绍关于Python中函数的小、中、高级的用法，闭包，lambda表达式，内置函数，以及什么是装饰器、迭代器、生成器等"><meta name="keywords" content="函数，函数的高级用法，闭包，lambda表达式，装饰器，迭代器，生成器"><meta property="og:type" content="article"><meta property="og:title" content="Python函数的高级"><meta property="og:url" content="http://www.danpinsuiyue.com/1705878977.html"><meta property="og:site_name" content="淡品岁月"><meta property="og:description" content="摘要：​ 本博文主要介绍关于Python中函数的小、中、高级的用法，闭包，lambda表达式，内置函数，以及什么是装饰器、迭代器、生成器等"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="http://px8otgor7.bkt.clouddn.com/1555662579169.png"><meta property="og:updated_time" content="2019-10-26T10:53:15.836Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Python函数的高级"><meta name="twitter:description" content="摘要：​ 本博文主要介绍关于Python中函数的小、中、高级的用法，闭包，lambda表达式，内置函数，以及什么是装饰器、迭代器、生成器等"><meta name="twitter:image" content="http://px8otgor7.bkt.clouddn.com/1555662579169.png"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Mist",version:"5.1.4",sidebar:{position:"left",display:"hide",offset:12,b2t:!0,scrollpercent:!0,onmobile:!0},fancybox:!1,tabs:!0,motion:{enable:!1,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},duoshuo:{userId:"0",author:"Author"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><script>!function(){var t=document.createElement("script"),s=window.location.protocol.split(":")[0];"https"===s?t.src="https://zz.bdstatic.com/linksubmit/push.js":t.src="http://push.zhanzhang.baidu.com/push.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()</script><script></script><link rel="canonical" href="http://www.danpinsuiyue.com/1705878977.html"><title>Python函数的高级 - 淡品岁月的博客</title><script type="text/javascript">var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?57e89d86ab656322157f31965a215fe4";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-139884627-1"></script><link rel="stylesheet" href="/dist/css/share.min.css"><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-139884627-1")</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?9d4a3700a4e6444240fe13acb69c87fc";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></mate></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="site-title">淡品岁月</span></a></div><h1 class="site-subtitle" itemprop="description">CV工程师</h1></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-archive"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class="menu-item menu-item-top"><a href="/top/" rel="section"><i class="menu-item-icon fa fa-fw fa-signal"></i><br>热门</a></li><li class="menu-item menu-item-links"><a href="/links/" rel="section"><i class="menu-item-icon fa fa-fw fa-user-plus"></i><br>友链</a></li><li class="menu-item menu-item-game"><a href="/game" rel="section"><i class="menu-item-icon fa fa-fw fa-gamepad"></i><br>娱乐</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>Search</a></li></ul><div class="site-search"><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class="search-icon"><i class="fa fa-search"></i> </span><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span><div class="local-search-input-wrapper"><input autocomplete="off" placeholder="Searching..." spellcheck="false" type="text" id="local-search-input"></div></div><div id="local-search-result"></div></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://www.danpinsuiyue.com/1705878977.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content><meta itemprop="description" content><meta itemprop="image" content="/images/touxiang.jpeg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="淡品岁月"></span><header class="post-header"><h2 class="post-title" itemprop="name headline">Python函数的高级</h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><font color="blue"><i class="fa fa-calendar"></i></font> </span><time title="Post created" itemprop="dateCreated datePublished" datetime="2019-02-20T21:37:24+08:00"><font color="blue">2019-02-20</font> </time></span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><font color="#56b6e7"><i class="fa fa-folder-open"></i></font> </span><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Python/" itemprop="url" rel="index"><font color="#56b6e7"><span itemprop="name">Python</span></font> </a></span></span><span class="post-meta-divider">|</span> <span class="page-pv"><i class="fa">阅读量</i> <span class="busuanzi-value" id="busuanzi_value_page_pv"></span></span><div class="post-wordcount"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><font color="green"><i class="fa fa-file-word-o"></i></font> </span><font color="green"><span title="Words count in article">3.9k</span></font></div></div></header><div class="post-body" itemprop="articleBody"><p><strong>摘要：</strong></p><p>​ <strong>本博文主要介绍关于Python中函数的小、中、高级的用法，闭包，lambda表达式，内置函数，以及什么是装饰器、迭代器、生成器等</strong></p><a id="more"></a><h2 id="函数小高级"><a href="#函数小高级" class="headerlink" title="函数小高级"></a>函数小高级</h2><h3 id="函数名作为变量"><a href="#函数名作为变量" class="headerlink" title="函数名作为变量"></a>函数名作为变量</h3><p>带括号就执行函数，返回函数返回值；不加括号指向函数地址，函数不执行</p><p>函数可以作为字典的键值，可以作为键</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 典例一</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="number">123</span>)    </span><br><span class="line">v1 = func 	<span class="comment"># func函数不执行</span></span><br><span class="line">func	<span class="comment"># func函数不执行</span></span><br><span class="line">v1（）	<span class="comment"># 执行func函数</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 典例二</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="number">123</span>)    </span><br><span class="line">v1 = func() <span class="comment"># func函数返回值</span></span><br><span class="line">func()	<span class="comment"># 执行func函数</span></span><br><span class="line">print(v1)	<span class="comment"># None</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="number">123</span>)</span><br><span class="line">    </span><br><span class="line">func_list = [func, func, func]	<span class="comment"># func_list为三个func函数地址</span></span><br><span class="line">func_list = [func(), func(), func()]	<span class="comment"># [None, None, None]</span></span><br><span class="line"><span class="comment"># func_list[0]()</span></span><br><span class="line"><span class="comment"># func_list[1]()</span></span><br><span class="line"><span class="comment"># func_list[2]()</span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> func_list:</span><br><span class="line">    v = item()	<span class="comment">#123	循环3次</span></span><br><span class="line">    print(v)	<span class="comment">#None</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="number">123</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bar</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="number">666</span>)</span><br><span class="line"></span><br><span class="line">info = &#123;<span class="string">'k1'</span>: func, <span class="string">'k2'</span>: bar&#125;</span><br><span class="line"></span><br><span class="line">info[<span class="string">'k1'</span>]()	<span class="comment"># 执行函数func	123</span></span><br><span class="line">info[<span class="string">'k2'</span>]()	<span class="comment"># 执行函数bar	666</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">123</span></span><br><span class="line"></span><br><span class="line">func_list1 = [func,func,func]</span><br><span class="line">func_list2 = [func(),func(),func()]</span><br><span class="line"></span><br><span class="line">print(func_list1)	<span class="comment">#func()函数地址 * 3</span></span><br><span class="line">print(func_list2)	<span class="comment"># 123 123 123</span></span><br><span class="line"></span><br><span class="line">info = &#123;</span><br><span class="line">    <span class="string">'k1'</span>:func,</span><br><span class="line">    <span class="string">'k2'</span>:func(),</span><br><span class="line">&#125;</span><br><span class="line">print(info)	<span class="comment"># &#123;'k1': &lt;function func at 0x000001D5315DDA60&gt;, 'k2': 123&#125;</span></span><br></pre></td></tr></table></figure><h3 id="函数当作参数"><a href="#函数当作参数" class="headerlink" title="函数当作参数"></a>函数当作参数</h3><p>当参数时有（），得到返回值；当参数时无（），得到函数地址</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(arg)</span>:</span></span><br><span class="line">    print(arg)</span><br><span class="line">    </span><br><span class="line">func(<span class="number">1</span>)	<span class="comment"># 执行func	1</span></span><br><span class="line">func([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])	<span class="comment"># 执行func	[1,2,3,4]</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">999</span></span><br><span class="line">func(show)	<span class="comment"># show不执行 指向函数地址</span></span><br><span class="line">func(show())	<span class="comment"># show执行	999</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(arg)</span>:</span></span><br><span class="line">    v1 = arg()<span class="comment">#函数show执行	v1为函数show返回值</span></span><br><span class="line">    print(v1)</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="number">666</span>)<span class="comment">#输出666</span></span><br><span class="line">    </span><br><span class="line">func(show)<span class="comment">#指向函数show地址不执行</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(arg)</span>:</span></span><br><span class="line">    v1 = arg()</span><br><span class="line">    print(v1)</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="number">666</span>)</span><br><span class="line">    </span><br><span class="line">result = func(show)<span class="comment">#result为函数func的返回值</span></span><br><span class="line">print(result)</span><br></pre></td></tr></table></figure><h3 id="数据类型中的方法到底有没有返回值？"><a href="#数据类型中的方法到底有没有返回值？" class="headerlink" title="数据类型中的方法到底有没有返回值？"></a>数据类型中的方法到底有没有返回值？</h3><p>无返回值</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">v = [11,22,33]</span><br><span class="line">v.append(99) # 无返回值</span><br></pre></td></tr></table></figure><p>仅有返回值：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">v = <span class="string">"熊大"</span></span><br><span class="line">result = v.split(<span class="string">'l'</span>)</span><br><span class="line"></span><br><span class="line">v = &#123;<span class="string">'k1'</span>:<span class="string">'v2'</span>&#125;</span><br><span class="line">result1 = v.get(<span class="string">'k1'</span>)</span><br><span class="line">result2 = v.keys()</span><br></pre></td></tr></table></figure><p>有返回+修改数据</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">v = [<span class="number">11</span>,<span class="number">22</span>,<span class="number">33</span>]</span><br><span class="line">result = v.pop()</span><br></pre></td></tr></table></figure><h3 id="常用方法有返回值"><a href="#常用方法有返回值" class="headerlink" title="常用方法有返回值"></a>常用方法有返回值</h3><div class="note default"><p>str 字符串的所有方法基本上都是返回值为新值</p><ul><li>strip，返回字符串</li><li>split，返回列表</li><li>replace，返回字符串</li><li>join，返回字符串。</li></ul><p>list 列表所有方法基本上都是返回值None</p><ul><li>append，无</li><li>insert，无</li><li>pop，返回要删除的数据</li><li>remove，无</li><li>find/index，返回索引的位置。</li></ul><p>dict</p><ul><li>get ，返回指定键值</li><li>keys，返回所有键</li><li>values，返回所有值</li><li>items，返回所有键值对</li></ul></div><div class="note default"><p>函数内部的数据是否会混乱。</p><ul><li>函数内部执行相互之间不会混乱</li><li>执行完毕 + 内部元素不被其他人使用 =&gt; 销毁</li></ul></div><h2 id="函数中高级"><a href="#函数中高级" class="headerlink" title="函数中高级"></a>函数中高级</h2><h3 id="函数做返回值"><a href="#函数做返回值" class="headerlink" title="函数做返回值"></a>函数做返回值</h3><p>就找函数何时被谁创建</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">	print(<span class="number">123</span>)	<span class="comment">#输出123</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bar</span><span class="params">()</span>:</span></span><br><span class="line">	<span class="keyword">return</span> fun	<span class="comment">#返回函数fun</span></span><br><span class="line">v = bar()	<span class="comment">#执行函数bar()</span></span><br><span class="line">v()	<span class="comment"># 执行函数func()</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">'光头强'</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">	print(name)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bar</span><span class="params">()</span>:</span></span><br><span class="line">	<span class="keyword">return</span> func</span><br><span class="line">v = bar()</span><br><span class="line">v()	<span class="comment"># 光头强</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bar</span><span class="params">()</span>:</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">()</span>:</span></span><br><span class="line">		print(<span class="number">123</span>)</span><br><span class="line">	<span class="keyword">return</span> inner</span><br><span class="line">v= bar() </span><br><span class="line">v()	<span class="comment"># 123</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">'光头强'</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bar</span><span class="params">()</span>:</span></span><br><span class="line">	name = <span class="string">'花花'</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">()</span>:</span></span><br><span class="line">		print(name)</span><br><span class="line">	<span class="keyword">return</span> inner</span><br><span class="line">v = bar()</span><br><span class="line">v()	<span class="comment"># 花花</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">'光头强'</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bar</span><span class="params">(name)</span>:</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">()</span>:</span></span><br><span class="line">		print(name)</span><br><span class="line">	<span class="keyword">return</span> inner</span><br><span class="line">v1 = bar(<span class="string">'熊大'</span>)</span><br><span class="line">v2 = bar(<span class="string">'熊二'</span>)</span><br><span class="line">v1()	<span class="comment"># 熊大</span></span><br><span class="line">v2()	<span class="comment"># 熊二</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 示例一</span></span><br><span class="line">name = <span class="string">'熊大'</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">base</span><span class="params">()</span>:</span></span><br><span class="line">    print(name)   </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line"> 	name = <span class="string">'熊二'</span></span><br><span class="line">    base()</span><br><span class="line">func()	<span class="comment"># 熊大</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例二</span></span><br><span class="line">name = <span class="string">'熊大'</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line"> 	name = <span class="string">'熊二'</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">base</span><span class="params">()</span>:</span></span><br><span class="line">    	print(name)</span><br><span class="line">    base()   </span><br><span class="line">func()	<span class="comment"># 熊二</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例三</span></span><br><span class="line">name = <span class="string">'熊大'</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line"> 	name = <span class="string">'熊二'</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">base</span><span class="params">()</span>:</span></span><br><span class="line">    	print(name)</span><br><span class="line">    <span class="keyword">return</span> base </span><br><span class="line">base = func()</span><br><span class="line">base()	<span class="comment"># 熊二</span></span><br></pre></td></tr></table></figure><h2 id="函数大高级"><a href="#函数大高级" class="headerlink" title="函数大高级"></a>函数大高级</h2><p>把函数当做参数传递</p><p>把函数当做返回值</p><p>对函数进行复制</p><h3 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h3><p>含义：函数自己调自己(效率低)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="number">1</span>)</span><br><span class="line">    func()</span><br><span class="line">    </span><br><span class="line">func()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(i)</span>:</span></span><br><span class="line">    print(i)</span><br><span class="line">    func(i+<span class="number">1</span>)</span><br><span class="line">    </span><br><span class="line">func(<span class="number">1</span>)   <span class="comment"># 1,2,3---988报错，死循环</span></span><br></pre></td></tr></table></figure><p>斐契那波数列(有限制)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(a,b)</span>:</span></span><br><span class="line">    <span class="comment"># 1</span></span><br><span class="line">    <span class="comment"># 1</span></span><br><span class="line">    <span class="comment"># 2</span></span><br><span class="line">    <span class="comment"># 3 </span></span><br><span class="line">    <span class="comment"># 5 </span></span><br><span class="line">    print(b) </span><br><span class="line">    func(b,a+b)</span><br><span class="line">    </span><br><span class="line">func(<span class="number">0</span>,<span class="number">1</span>)</span><br></pre></td></tr></table></figure><p>递归函数返回值</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 示例一</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(a)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> a == <span class="number">5</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">100000</span></span><br><span class="line">    result = func(a+<span class="number">1</span>) + <span class="number">10</span></span><br><span class="line">    <span class="keyword">return</span> result </span><br><span class="line"></span><br><span class="line">v = func(<span class="number">1</span>)</span><br><span class="line">print(v)	<span class="comment">#  10040</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例二</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(a)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> a == <span class="number">5</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">100000</span></span><br><span class="line">    result = func(a+<span class="number">1</span>) + <span class="number">10</span></span><br><span class="line"></span><br><span class="line">v = func(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">name = <span class="string">'alex'</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">()</span>:</span></span><br><span class="line">        print(name)</span><br><span class="line">     <span class="keyword">return</span> inner</span><br><span class="line">v =func()</span><br></pre></td></tr></table></figure><h3 id="函数执行的流程分析"><a href="#函数执行的流程分析" class="headerlink" title="函数执行的流程分析"></a>函数执行的流程分析</h3><p>函数是由谁创建的</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">base</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">return</span> i </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(arg)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">()</span>:</span></span><br><span class="line">        <span class="keyword">return</span> arg</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line">base_list = [] <span class="comment"># [base,base,]</span></span><br><span class="line">func_list = [] <span class="comment"># [由第一次执行func函数的内存地址，内部arg=0 创建的inner函数，有arg=1的inner函数 ]</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>): <span class="comment"># i = 0 ，1</span></span><br><span class="line">    base_list.append(base)</span><br><span class="line">    func_list.append(func(i))</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 1. base_list 和 func_list中分别保存的是什么？</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">base_list中存储都是base函数。</span></span><br><span class="line"><span class="string">func_list中存储的是inner函数，特别要说的是每个inner是在不同的地址创建。</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="comment"># 2. 如果循环打印什么？</span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> base_list:</span><br><span class="line">	v = item() <span class="comment"># 执行base函数</span></span><br><span class="line">    print(v) <span class="comment"># 都是9</span></span><br><span class="line"><span class="keyword">for</span> data <span class="keyword">in</span> func_list:</span><br><span class="line">    v = data()</span><br><span class="line">    print(v) <span class="comment"># 0 1 2 3 4</span></span><br></pre></td></tr></table></figure><h2 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h2><h3 id="什么是闭包"><a href="#什么是闭包" class="headerlink" title="什么是闭包"></a>什么是闭包</h3><p><strong><u>闭包概念：为函数创建一块区域并为其维护自己数据，以后执行时方便调用。</u></strong></p><p>闭包应用场景：装饰器、SQLAlchemy源码</p><p><strong><u>a函数里面有b函数,并且返回值为b函数（b函数只被调用，没被执行；b函数引用a函数的变量）</u></strong></p><h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(name)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">()</span>:</span></span><br><span class="line">        print(name)</span><br><span class="line">	<span class="keyword">return</span> inner </span><br><span class="line"></span><br><span class="line">v1 = func(<span class="string">'熊大'</span>) <span class="comment"># 执行func（）函数值为alex，返回inner</span></span><br><span class="line">v1()	<span class="comment">#执行inner（）函数，输出alex</span></span><br><span class="line">v2 = func(<span class="string">'熊二'</span>)</span><br><span class="line">v2()</span><br></pre></td></tr></table></figure><h2 id="lambda-表达式"><a href="#lambda-表达式" class="headerlink" title="lambda 表达式"></a>lambda 表达式</h2><h3 id="用于表示简单的函数"><a href="#用于表示简单的函数" class="headerlink" title="用于表示简单的函数"></a>用于表示简单的函数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 三元运算，为了解决简单的if else的情况，如：</span></span><br><span class="line"><span class="keyword">if</span> <span class="number">1</span> == <span class="number">1</span>:</span><br><span class="line">    a = <span class="number">123</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    a = <span class="number">456</span></span><br><span class="line"><span class="comment"># 相当于</span></span><br><span class="line">a = <span class="number">123</span> <span class="keyword">if</span> <span class="number">1</span>==<span class="number">1</span> <span class="keyword">else</span> <span class="number">456</span></span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># lambda表达式，为了解决简单函数的情况，如：</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">funa</span><span class="params">(a1,a2)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> a1 + <span class="number">100</span></span><br><span class="line">print(funa(<span class="number">1</span>,<span class="number">3</span>))	<span class="comment"># 101</span></span><br><span class="line"><span class="comment"># 相当于</span></span><br><span class="line">func = <span class="keyword">lambda</span> a1,a2: a1+<span class="number">100</span></span><br><span class="line">print(func(<span class="number">1</span>,<span class="number">3</span>))	<span class="comment"># 101</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 示例一</span></span><br><span class="line">func1 = <span class="keyword">lambda</span> : <span class="number">100</span></span><br><span class="line">print(func1())   <span class="comment">#100</span></span><br><span class="line">func2 = <span class="keyword">lambda</span> x1: x1 * <span class="number">10</span></span><br><span class="line">print(func2(<span class="number">2</span>))     <span class="comment"># 20</span></span><br><span class="line"></span><br><span class="line">func3 = <span class="keyword">lambda</span> *args,**kwargs: len(args) + len(kwargs)</span><br><span class="line">print(func3(<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>,k=<span class="string">"sdfgg"</span>，a = <span class="string">"dfgjh"</span>))     <span class="comment"># 5</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例二</span></span><br><span class="line">DATA = <span class="number">100</span></span><br><span class="line">func4 = <span class="keyword">lambda</span> a1: a1 + DATA</span><br><span class="line">v = func4(<span class="number">1</span>)</span><br><span class="line">print(v)	<span class="comment"># 101</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例三</span></span><br><span class="line">DATA = <span class="number">100</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    DATA = <span class="number">1000</span></span><br><span class="line">    func4 = <span class="keyword">lambda</span> a1: a1 + DATA</span><br><span class="line">    v = func4(<span class="number">1</span>)</span><br><span class="line">    print(v)    <span class="comment"># 1001</span></span><br><span class="line">func()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例四</span></span><br><span class="line">func5 = <span class="keyword">lambda</span> n1,n2: n1 <span class="keyword">if</span> n1 &gt; n2 <span class="keyword">else</span> n2</span><br><span class="line">v = func5(<span class="number">1111</span>,<span class="number">2</span>)</span><br><span class="line">print(v)    <span class="comment"># 1111</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 练习题1</span></span><br><span class="line">USER_LIST = []</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func0</span><span class="params">(x)</span>:</span></span><br><span class="line">    v = USER_LIST.append(x)</span><br><span class="line">    <span class="keyword">return</span> v</span><br><span class="line"></span><br><span class="line">result = func0(<span class="string">'柯南'</span>)</span><br><span class="line">print(result)	<span class="comment"># None</span></span><br><span class="line">print(USER_LIST)	<span class="comment"># ['柯南']</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 练习题二</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func0</span><span class="params">(x)</span>:</span></span><br><span class="line">    v = x.strip()</span><br><span class="line">    <span class="keyword">return</span> v </span><br><span class="line"></span><br><span class="line">result = func0(<span class="string">' 柯南 '</span>)</span><br><span class="line">print(result)	<span class="comment"># 柯南</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 练习题三</span></span><br><span class="line">func_list = [<span class="keyword">lambda</span> x:x.strip(), <span class="keyword">lambda</span> y:y+<span class="number">199</span>,<span class="keyword">lambda</span> x,y:x+y]</span><br><span class="line"></span><br><span class="line">v1 = func_list[<span class="number">0</span>](<span class="string">'柯南 '</span>)</span><br><span class="line">print(v1)	<span class="comment"># 柯南</span></span><br><span class="line"></span><br><span class="line">v2 = func_list[<span class="number">1</span>](<span class="number">100</span>)</span><br><span class="line">print(v2)	<span class="comment"># 299</span></span><br><span class="line"></span><br><span class="line">v3 = func_list[<span class="number">2</span>](<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">print(v3)	<span class="comment"># 3</span></span><br></pre></td></tr></table></figure><h2 id="内置函数"><a href="#内置函数" class="headerlink" title="内置函数"></a>内置函数</h2><h3 id="强制转换"><a href="#强制转换" class="headerlink" title="强制转换"></a>强制转换</h3><p>dict() list() tuple() int() str() bool() set()</p><h3 id="输入和输出"><a href="#输入和输出" class="headerlink" title="输入和输出"></a>输入和输出</h3><p>input print</p><h3 id="其他函数"><a href="#其他函数" class="headerlink" title="其他函数"></a>其他函数</h3><p>len(长度) open(打开) id(查看内存) range(输出列表) type(查看类型)</p><h3 id="数学相关"><a href="#数学相关" class="headerlink" title="数学相关"></a>数学相关</h3><p>abs(绝对值) float(转成浮点型：小数) max(找到最大值) min(找到最小值) sum(求和) divmod(求两数相除商和余数，多用于分页)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">v = abs(<span class="number">-1</span>)</span><br><span class="line">print(v)	<span class="comment"># 1</span></span><br><span class="line"></span><br><span class="line">v = <span class="number">55</span></span><br><span class="line">v1 = float(<span class="number">55</span>)</span><br><span class="line">print(v1)	<span class="comment"># 55.0</span></span><br><span class="line"></span><br><span class="line">v = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">311</span>,<span class="number">21</span>,<span class="number">3</span>,]</span><br><span class="line">result = max(v)</span><br><span class="line">print(result)	<span class="comment"># 311</span></span><br><span class="line"></span><br><span class="line">v = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">311</span>,<span class="number">21</span>,<span class="number">3</span>,]</span><br><span class="line">result = min(v)</span><br><span class="line">print(result)	<span class="comment"># 1</span></span><br><span class="line"></span><br><span class="line">v = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">311</span>,<span class="number">21</span>,<span class="number">3</span>,]</span><br><span class="line">result = sum(v)</span><br><span class="line">print(result)	<span class="comment">#338</span></span><br><span class="line"></span><br><span class="line">a,b = divmod(<span class="number">1001</span>,<span class="number">5</span>)</span><br><span class="line">print(a,b)	<span class="comment"># 200  1</span></span><br></pre></td></tr></table></figure><h3 id="进制转换"><a href="#进制转换" class="headerlink" title="进制转换"></a>进制转换</h3><p>bin，将十进制转化成二进制(0b)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="number">13</span></span><br><span class="line">v1 = bin(num)</span><br><span class="line">print(v1)	<span class="comment"># 0b1101</span></span><br></pre></td></tr></table></figure><p>oct，将十进制转换成八进制(0o)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="number">8</span></span><br><span class="line">v1 = oct(num)</span><br><span class="line">print(v1)	<span class="comment"># 0o10</span></span><br></pre></td></tr></table></figure><p>int，将其他进制转化成十进制</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 二进制转化成十进制</span></span><br><span class="line">v1 = <span class="string">'0b1101'</span></span><br><span class="line">result = int(v1,base=<span class="number">2</span>)</span><br><span class="line">print(result)	<span class="comment">#13</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 八进制转化成十进制</span></span><br><span class="line">v1 = <span class="string">'0o1101'</span></span><br><span class="line">result = int(v1,base=<span class="number">8</span>)</span><br><span class="line">print(result)	<span class="comment"># 577</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 十六进制转化成十进制</span></span><br><span class="line">v1 = <span class="string">'0x1101'</span></span><br><span class="line">result = int(v1,base=<span class="number">16</span>)</span><br><span class="line">print(result)	<span class="comment"># 4353</span></span><br></pre></td></tr></table></figure><p>hex，将十进制转换成十六进制(0x)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="number">16</span></span><br><span class="line">v1 = hex(num)</span><br><span class="line">print(v1)	<span class="comment"># 0x10</span></span><br></pre></td></tr></table></figure><h3 id="编码相关"><a href="#编码相关" class="headerlink" title="编码相关"></a>编码相关</h3><p>chr，将十进制数字转换成unicode编码中的对应字符。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">v = chr(<span class="number">99</span>)</span><br><span class="line">print(v)	<span class="comment"># c</span></span><br></pre></td></tr></table></figure><p>ord，将字符转换成unicode编码中的对应数字</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">num = ord(<span class="string">'中'</span>)</span><br></pre></td></tr></table></figure><h3 id="高级函数"><a href="#高级函数" class="headerlink" title="高级函数"></a>高级函数</h3><h4 id="map"><a href="#map" class="headerlink" title="map"></a>map</h4><p>会根据提供的函数对指定序列做映射</p><ul><li>第一个参数必须是一个函数</li><li>第二个函数必须是可迭代类型（可以for循环）</li><li>py2最后返回一个列表；py3最后返回一个对象（节省内存）</li></ul><p>循环每个元素（第二个参数），然后让每个元素执行函数（第一个）参数，将每个函数 执行的结果保存到新的列表中，并返回。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">v1 = [<span class="number">11</span>,<span class="number">22</span>,<span class="number">33</span>,<span class="number">44</span>]</span><br><span class="line">result = map(<span class="keyword">lambda</span> x :x+<span class="number">100</span>,v1)</span><br><span class="line">print(list(result))<span class="comment">#[111, 122, 133, 144]</span></span><br></pre></td></tr></table></figure><h4 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h4><p>函数用于过滤序列，过滤掉不符合条件的元素，返回由符合条件元素组成的新列表。</p><p>循环每个元素（第二个参数），然后让每个元素执行函数（第一个）参数进行判断，然后返回 True 或 False，最后将返回 True 的元素放到新列表中。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 示例一</span></span><br><span class="line">v1 = [<span class="number">11</span>,<span class="number">22</span>,<span class="number">33</span>,<span class="string">'fgd'</span>,<span class="string">'egfghg'</span>,<span class="number">44</span>,<span class="string">'sdf'</span>]</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> type(x) == int:<span class="comment">#判断v1元素是不是整型</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span><span class="comment">#返回</span></span><br><span class="line">    <span class="keyword">return</span> Flase</span><br><span class="line">result = filter(func,v1)<span class="comment">#循环v1执行函数func,真的新建列表[11,]</span></span><br><span class="line">print(list(result))<span class="comment">#输出result，默认是对象，转化为列表</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 等于</span></span><br><span class="line">result = filter(<span class="keyword">lambda</span> x: <span class="literal">True</span> <span class="keyword">if</span> type(x) == int <span class="keyword">else</span> <span class="literal">False</span> ,v1)</span><br><span class="line">print(list(result))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 等于</span></span><br><span class="line">result = filter(<span class="keyword">lambda</span> x: type(x) == int ,v1)</span><br><span class="line">print(list(result))</span><br></pre></td></tr></table></figure><h4 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a>reduce</h4><p>函数会对参数序列中元素进行累积。</p><p>函数将一个数据集合（链表，元组等）中的所有数据进行下列操作：用传给 reduce 中的函数 function（有两个参数）先对集合中的第 1、2 个元素进行操作，得到的结果再与第三个数据用 function 函数运算，最后得到一个结果。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 示例</span></span><br><span class="line"><span class="keyword">import</span> functools</span><br><span class="line">v1 = [<span class="string">'wo'</span>,<span class="string">'hao'</span>,<span class="string">'e'</span>]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(x,y)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> x+y</span><br><span class="line">result = functools.reduce(func,v1)</span><br><span class="line">print(result)<span class="comment">#wohaoe</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 等于</span></span><br><span class="line">result = functools.reduce(<span class="keyword">lambda</span> x,y:x+y,v1)</span><br><span class="line">print(result)</span><br></pre></td></tr></table></figure><h4 id="type"><a href="#type" class="headerlink" title="type"></a>type</h4><p>查看类型/判断对象是否是类的实例（找到头）</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">obj = Foo()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> type(obj) = Foo:</span><br><span class="line">    print(<span class="string">"obj是Foo类的对象"</span>)</span><br></pre></td></tr></table></figure><h4 id="issubclass"><a href="#issubclass" class="headerlink" title="issubclass"></a>issubclass</h4><p>判断类是否是子类（到头都是）</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Asd</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span><span class="params">(Asd)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base1</span><span class="params">(Base)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span><span class="params">(Base1)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bar</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">print(issubclass(Bar,Base))	<span class="comment"># False</span></span><br><span class="line">print(issubclass(Foo,Asd))	<span class="comment"># True</span></span><br></pre></td></tr></table></figure><h4 id="isinstance"><a href="#isinstance" class="headerlink" title="isinstance"></a>isinstance</h4><p>判断obj是否是Foo类或其基类的实例（对象），找到头都是</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Asd</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span><span class="params">(Asd)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span><span class="params">(Base)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">obj = Foo()</span><br><span class="line"></span><br><span class="line">print(isinstance(obj,Foo))</span><br><span class="line">print(isinstance(obj,Asd))</span><br></pre></td></tr></table></figure><h4 id="super"><a href="#super" class="headerlink" title="super"></a>super</h4><p>根据self对象所属类的继承关系，按照顺序挨个找func方法并执行(找到第一个就不在找了)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bar</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'bar.func'</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">123</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span><span class="params">(Bar)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span><span class="params">(Base)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(self)</span>:</span></span><br><span class="line">        v1 = super().func()</span><br><span class="line">        print(<span class="string">'foo.func'</span>,v1)</span><br><span class="line"></span><br><span class="line">obj = Foo()	<span class="comment"># bar.func</span></span><br><span class="line">obj.func()	<span class="comment"># foo.func 123</span></span><br><span class="line"><span class="comment"># super().func() 根据类的继承关系，按照顺序挨个找func方法并执行(找到第一个就不在找了)</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span><span class="params">(object)</span>:</span> <span class="comment"># Base -&gt; object</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(self)</span>:</span></span><br><span class="line">        super().func()</span><br><span class="line">        print(<span class="string">'base.func'</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bar</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'bar.func'</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span><span class="params">(Base,Bar)</span>:</span> <span class="comment"># Foo -&gt; Base -&gt; Bar</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">obj = Foo()</span><br><span class="line">obj.func()	<span class="comment"># bar.func  base.func</span></span><br></pre></td></tr></table></figure><h2 id="装饰器"><a href="#装饰器" class="headerlink" title="装饰器"></a>装饰器</h2><h3 id="导入"><a href="#导入" class="headerlink" title="导入"></a>导入</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 典例一</span></span><br><span class="line">v = <span class="number">1</span></span><br><span class="line">v = <span class="number">2</span></span><br><span class="line">print(v)	<span class="comment"># 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 典例二</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">	<span class="keyword">pass</span></span><br><span class="line">v = <span class="number">10</span></span><br><span class="line">v = func</span><br><span class="line">print(v)	<span class="comment"># v 为函数地址</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 典例三</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">base</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="number">1</span>)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bar</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="number">2</span>)</span><br><span class="line">bar = base</span><br><span class="line">bar()	<span class="comment"># 1</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 典例一</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">()</span>:</span></span><br><span class="line">		<span class="keyword">pass</span></span><br><span class="line">	<span class="keyword">return</span> inner</span><br><span class="line">v = func()	<span class="comment"># inner函数地址</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 典例二</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(arg)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">()</span>:</span></span><br><span class="line">        print(arg)</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line">v1 = func(<span class="number">1</span>) </span><br><span class="line">v1()		<span class="comment"># 1</span></span><br><span class="line">v2 = func(<span class="number">2</span>)</span><br><span class="line">v2()		<span class="comment"># 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 典例三</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(arg)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">()</span>:</span></span><br><span class="line">        arg()</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="number">123</span>)</span><br><span class="line">v1 = func(f1)</span><br><span class="line">v1()	<span class="comment"># 123</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 典例四</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(arg)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">()</span>:</span></span><br><span class="line">        arg()</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="number">123</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">666</span></span><br><span class="line"></span><br><span class="line">v1 = func(f1)	<span class="comment">#inner函数</span></span><br><span class="line">result = v1() 	<span class="comment">#执行f1函数 123</span></span><br><span class="line">print(result) 	<span class="comment">#返回值为None</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 典例五</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(arg)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">()</span>:</span></span><br><span class="line">        <span class="keyword">return</span> arg()</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="number">123</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">666</span></span><br><span class="line"></span><br><span class="line">v1 = func(f1)	<span class="comment"># inner函数</span></span><br><span class="line">result = v1() 	<span class="comment"># 执行inner函数 123 返回值为f1</span></span><br><span class="line">print(result)	<span class="comment">#打印f1返回值</span></span><br></pre></td></tr></table></figure><h3 id="装饰器含义"><a href="#装饰器含义" class="headerlink" title="装饰器含义"></a>装饰器含义</h3><p>在不改变原函数内部代码的 基础上，在函数执行之前和之后自动执行某个功能</p><h3 id="基本格式"><a href="#基本格式" class="headerlink" title="基本格式"></a>基本格式</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(age)</span>:</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">()</span>:</span></span><br><span class="line">		v = arg()</span><br><span class="line">		<span class="keyword">return</span> v</span><br><span class="line">	<span class="keyword">return</span> inner</span><br><span class="line"> <span class="comment"># 第一步：执行func函数并将下面函数参数传递，相当于：fun(index)</span></span><br><span class="line"> <span class="comment"># 第二步：将func的返回值重新赋值给下面的函数名，index = func（index）</span></span><br><span class="line"><span class="meta">@func</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="number">123</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">666</span></span><br><span class="line">print(index)</span><br></pre></td></tr></table></figure><p>装饰器编写格式</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> 外层函数<span class="params">(参数)</span>：</span></span><br><span class="line"><span class="function">	<span class="title">def</span> 内层函数<span class="params">(*args,**kwargs)</span></span></span><br><span class="line"><span class="function">		<span class="title">return</span> 参数<span class="params">(*args,**kwargs)</span></span></span><br><span class="line"><span class="function">	<span class="title">return</span> 内层函数</span></span><br></pre></td></tr></table></figure><p>装饰器应用格式</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@外层函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> 参数<span class="params">()</span>:</span></span><br><span class="line">	<span class="keyword">pass</span></span><br><span class="line">index()</span><br></pre></td></tr></table></figure><h3 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h3><p><strong>为什么要加</strong> <code>*</code>args, <code>**</code>kwargs</p><p>答：可以接收参数函数里面任意值</p><p><strong>如果给好几个函数写一个统一的装饰器，怎么办？</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">a1</span><span class="params">(func)</span>:</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">(*args,**kwargs)</span></span></span><br><span class="line"><span class="function">		<span class="title">return</span> <span class="title">func</span><span class="params">(*args,**kwargs)</span></span></span><br><span class="line"><span class="function">	<span class="title">return</span> <span class="title">inner</span></span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function">@<span class="title">a1</span></span></span><br><span class="line"><span class="function"><span class="title">def</span> <span class="title">f1</span><span class="params">()</span>:</span></span><br><span class="line">	<span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@a1</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f2</span><span class="params">()</span>:</span></span><br><span class="line">	<span class="keyword">pass</span></span><br><span class="line">	</span><br><span class="line"><span class="meta">@a1</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f2</span><span class="params">()</span>:</span></span><br><span class="line">	<span class="keyword">pass</span></span><br></pre></td></tr></table></figure><p><strong>关于执行函数的前后</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">a1</span><span class="params">(func)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">(*args,**kwargs)</span></span></span><br><span class="line"><span class="function">    	<span class="title">print</span><span class="params">(<span class="string">"调用函数之前"</span>)</span></span></span><br><span class="line">        data = func(*args,**kwargs)# 执行函数并获取返回值</span><br><span class="line">        print(<span class="string">"调用函数之后"</span>)</span><br><span class="line">        <span class="keyword">return</span> data</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"><span class="meta">@a1</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="number">123</span>)</span><br><span class="line">index()</span><br></pre></td></tr></table></figure><h3 id="带参数的装饰器"><a href="#带参数的装饰器" class="headerlink" title="带参数的装饰器"></a>带参数的装饰器</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 第一步：执行 ret = xxx(index)</span></span><br><span class="line"><span class="comment"># 第二步：将返回值赋值给 index = ret</span></span><br><span class="line"><span class="meta">@xxx</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 第一步：执行 v1 = uuu(9)</span></span><br><span class="line"><span class="comment"># 第二步：ret = v1(index)</span></span><br><span class="line"><span class="comment"># 第三步：index = ret</span></span><br><span class="line"><span class="meta">@uuu(9)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 格式 </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">x</span><span class="params">(counter)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(fnc)</span>:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">(*args,**kwargs)</span></span></span><br><span class="line">        	data = func(*args,**kwargs)</span><br><span class="line">            <span class="keyword">return</span> data</span><br><span class="line">        <span class="keyword">return</span> inner</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span></span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function">@<span class="title">x</span><span class="params">(<span class="number">9</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">def</span> <span class="title">index</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><p>查看带参数装饰器执行顺序</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">x</span><span class="params">(counter)</span>:</span></span><br><span class="line">    print(<span class="string">'x函数'</span>)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(func)</span>:</span></span><br><span class="line">        print(<span class="string">'wrapper函数'</span>)</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">(*args,**kwargs)</span>:</span></span><br><span class="line">            print(<span class="string">'inner函数'</span>)</span><br><span class="line">            <span class="keyword">if</span> counter:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">123</span></span><br><span class="line">            <span class="keyword">return</span> func(*args,**kwargs)</span><br><span class="line">        <span class="keyword">return</span> inner</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"><span class="meta">@x(True)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun990</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@x(False)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func10</span><span class="params">()</span>:</span>				<span class="comment"># x函数</span></span><br><span class="line">    <span class="keyword">pass</span>				    <span class="comment"># wrapper函数</span></span><br></pre></td></tr></table></figure><h2 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h2><h3 id="引入"><a href="#引入" class="headerlink" title="引入"></a>引入</h3><p>任务展示列表中所有数据</p><p>1、while + 索引 + 计数器</p><p>2、迭代器</p><h3 id="迭代器含义"><a href="#迭代器含义" class="headerlink" title="迭代器含义"></a>迭代器含义</h3><p>对某种对象（str/list/tuple/dict/set类创建的对象），可迭代对象中元素逐一获取。</p><p>什么是迭代器：具有’ __ next __ ‘ 的方法且每次调用都能获取可迭代对象中的每个元素（从前到后一一获取）</p><h3 id="迭代器使用"><a href="#迭代器使用" class="headerlink" title="迭代器使用"></a>迭代器使用</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 列表转换成迭代器：</span></span><br><span class="line">v1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">v2 = iter(v1)	<span class="comment">#v2就是迭代器</span></span><br><span class="line">v2 = v1.__iter__()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 迭代器想要获取每个值：</span></span><br><span class="line">result1 = v2.__next__()</span><br><span class="line">print(result1)</span><br><span class="line">result2 = v2.__next__()</span><br><span class="line">print(result2)</span><br><span class="line">result3 = v2.__next__()</span><br><span class="line">print(result3)</span><br><span class="line">result4 = v2.__next__()</span><br><span class="line">print(result4)</span><br><span class="line">result5 = v2.__next__()</span><br><span class="line">print(result5)</span><br><span class="line"><span class="comment"># 直到报错：StopIteration错误，表示已经迭代完毕。</span></span><br><span class="line"><span class="comment"># 或者循环获取迭代器中的内容</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">         val = v2.__next__()</span><br><span class="line">         print(val)</span><br><span class="line">     <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">         <span class="keyword">break</span></span><br></pre></td></tr></table></figure><p>如何判别一个对象是否是迭代器：内部是否有<code>__next__方法</code> 。</p><h3 id="for循环实质"><a href="#for循环实质" class="headerlink" title="for循环实质"></a>for循环实质</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">v1 = [<span class="number">11</span>,<span class="number">22</span>,<span class="number">33</span>,<span class="number">44</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1.内部会将v1转换成迭代器</span></span><br><span class="line"><span class="comment"># 2.内部反复执行 迭代器.__next__()</span></span><br><span class="line"><span class="comment"># 3.取完不报错</span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> v1:</span><br><span class="line">    print(item)</span><br></pre></td></tr></table></figure><h3 id="可迭代对象"><a href="#可迭代对象" class="headerlink" title="可迭代对象"></a>可迭代对象</h3><p>1、表象：可以被循环对象就可以称为是可迭代对象：”x” [1,2] {}</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">obj = Foo()</span><br></pre></td></tr></table></figure><p>2、内部具有 <code>__iter__()</code> 方法且返回一个迭代器。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">v1 = [<span class="number">11</span>,<span class="number">22</span>,<span class="number">33</span>,<span class="number">44</span>]</span><br><span class="line">result = v1.__iter__()	<span class="comment">#result 就是迭代器</span></span><br></pre></td></tr></table></figure><p>3、可以被for循环</p><p><strong>如何让一个对象变成可迭代对象？</strong></p><p>在类中实现<code>__iter__</code>方法且返回一个迭代器（生成器）</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> iter([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line">    </span><br><span class="line">obj = Foo()</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">yield</span> <span class="number">1</span></span><br><span class="line">        <span class="keyword">yield</span> <span class="number">2</span></span><br><span class="line">        <span class="keyword">yield</span> <span class="number">3</span></span><br><span class="line">        </span><br><span class="line">obj = Foo</span><br></pre></td></tr></table></figure><p>记住：只有能被for循环就是去看内部的iter方法。</p><h3 id="迭代器口诀"><a href="#迭代器口诀" class="headerlink" title="迭代器口诀"></a>迭代器口诀</h3><p>1、取一次就没有了</p><p>2、不取就不执行</p><p><strong>取迭代器的值得方法</strong></p><p>1、list</p><p>2、for循环</p><p>3、next</p><h2 id="生成器"><a href="#生成器" class="headerlink" title="生成器"></a>生成器</h2><h3 id="实质"><a href="#实质" class="headerlink" title="实质"></a>实质</h3><p>就是函数的变异</p><h3 id="格式"><a href="#格式" class="headerlink" title="格式"></a>格式</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 生成器函数（内部是否包含yield）</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"f1"</span>)</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">1</span></span><br><span class="line">    print(<span class="string">"f2"</span>)</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">2</span></span><br><span class="line">    print(<span class="string">"f3"</span>)</span><br><span class="line"><span class="comment"># 函数内部不会被执行，返回一个生成对象</span></span><br><span class="line">v1 = func()</span><br><span class="line"><span class="comment"># 生成器可以被for循环，一旦开始循环那么函数内部代码就会开始执行</span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> v1:</span><br><span class="line">    print(item)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 无限循环打印1，2,3.....</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    count = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">yield</span> count</span><br><span class="line">        count += <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">val = func()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> val:</span><br><span class="line">    print(item)</span><br></pre></td></tr></table></figure><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>函数中如果存在yield，那么该函数就是一个生成器函数，调用生成器函数会返回一个生成器，生成器只有被for循环时，生成器函数内部的代码才会被执行,每次执行都会获取yield返回的值</p><h3 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 读取大文件</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    分批去读取文件中的内容，将文件的内容返回给调用者。</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    cursor = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        f = open(<span class="string">'db'</span>, <span class="string">'r'</span>, encoding=<span class="string">'utf-8'</span>)<span class="comment"># 通过网络连接上redis</span></span><br><span class="line">        <span class="comment"># 代指   redis[0:10]</span></span><br><span class="line">        f.seek(cursor)</span><br><span class="line">        data_list =[]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">            line = f.readline()</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> line:</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            data_list.append(line)</span><br><span class="line">        cursor = f.tell()</span><br><span class="line">        f.close()  <span class="comment"># 关闭与redis的连接</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> row <span class="keyword">in</span> data_list:</span><br><span class="line">            <span class="keyword">yield</span> row</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> func():</span><br><span class="line">    print(item)</span><br></pre></td></tr></table></figure><h3 id="redis-源码示例"><a href="#redis-源码示例" class="headerlink" title="redis 源码示例"></a>redis 源码示例</h3><p><img src="http://px8otgor7.bkt.clouddn.com/1555662579169.png" alt="1555662579169"></p></div><div class="popular-posts-header">📚&nbsp;&nbsp;相关文章</div><ul class="popular-posts"><div class="popular-posts-item"><div class="popular-posts-title"><a href="\637384435.html" rel="bookmark">🏷️&nbsp;&nbsp;&nbsp;&nbsp;Python函数基础</a></div></div><div class="popular-posts-item"><div class="popular-posts-title"><a href="\4138033636.html" rel="bookmark">🏷️&nbsp;&nbsp;&nbsp;&nbsp;Python博文目录</a></div></div><div class="popular-posts-item"><div class="popular-posts-title"><a href="\3427980016.html" rel="bookmark">🏷️&nbsp;&nbsp;&nbsp;&nbsp;Python中的面向对象是谁的对象</a></div></div><div class="popular-posts-item"><div class="popular-posts-title"><a href="\2354286169.html" rel="bookmark">🏷️&nbsp;&nbsp;&nbsp;&nbsp;Python基础模块大全</a></div></div><div class="popular-posts-item"><div class="popular-posts-title"><a href="\2936349916.html" rel="bookmark">🏷️&nbsp;&nbsp;&nbsp;&nbsp;python模块介绍</a></div></div></ul><style type="text/css">a:hover{text-decoration:none}</style><div><ul class="post-copyright"><li class="post-copyright-author"><strong>Post author:</strong></li><li class="post-copyright-link"><strong>Post link:</strong> <a href="http://www.danpinsuiyue.com/1705878977.html" title="Python函数的高级">http://www.danpinsuiyue.com/1705878977.html</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> unless stating additionally.</li></ul></div><div><div><div style="margin-top:30px;text-align:center;color:#ccc;font-size:14px">-------------　　　　本文结束　<i class="fa fa-heart"></i>　感谢您的阅读　　　　-------------</div></div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/Python/" rel="tag"><i class="fa fa-tag"></i> Python</a></div><div class="post-widgets"><div class="wp_rating"><div style="color:rgba(0,0,0,.75);font-size:13px;letter-spacing:3px">(&gt;看完记得五星好评哦亲&lt;)</div><div id="wpac-rating"></div></div></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/637384435.html" rel="next" title="Python函数基础"><i class="fa fa-chevron-left"></i> Python函数基础</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/2936349916.html" rel="prev" title="python模块介绍">python模块介绍 <i class="fa fa-chevron-right"></i></a></div></div></footer></div></article><div class="post-spread"><div data-weibo-title="分享到微博" data-qq-title="分享到QQ" data-douban-title="分享到豆瓣" class="social-share" data-disabled="twitter,facebook" data-description="Share.js - 一键分享到微博，QQ空间，腾讯微博，人人，豆瓣">分享到：</div></div></div><div class="comments comment" id="comments"></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div id="sidebar-dimmer"></div><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">Table of Contents</li><li class="sidebar-nav-overview" data-target="site-overview-wrap">Overview</li></ul><section class="site-overview-wrap sidebar-panel"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" src="/images/touxiang.jpeg" alt><p class="site-author-name" itemprop="name"></p><p class="site-description motion-element" itemprop="description"></p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives"><span class="site-state-item-count">16</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"><span class="site-state-item-count">1</span> <span class="site-state-item-name">categories</span></div><div class="site-state-item site-state-tags"><span class="site-state-item-count">4</span> <span class="site-state-item-name">tags</span></div></nav><div class="feed-link motion-element"><a href="https://danpinsuiyue/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/dpsy921" target="_blank" title="Github"><i class="fa fa-fw fa-github"></i>Github</a> </span><span class="links-of-author-item"><a href="https://plus.google.com/" target="_blank" title="Google"><i class="fa fa-fw fa-google"></i>Google</a> </span><span class="links-of-author-item"><a href="https://www.baidu.com" target="_blank" title="Baidu"><i class="fa fa-fw fa-baidu"></i>Baidu</a></span></div><div id="music163player"><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="110" src="//music.163.com/outchain/player?type=0&id=2983388685&auto=0&height=90"></iframe></div></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#函数小高级"><span class="nav-number">1.</span> <span class="nav-text">函数小高级</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#函数名作为变量"><span class="nav-number">1.1.</span> <span class="nav-text">函数名作为变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#函数当作参数"><span class="nav-number">1.2.</span> <span class="nav-text">函数当作参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#数据类型中的方法到底有没有返回值？"><span class="nav-number">1.3.</span> <span class="nav-text">数据类型中的方法到底有没有返回值？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#常用方法有返回值"><span class="nav-number">1.4.</span> <span class="nav-text">常用方法有返回值</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#函数中高级"><span class="nav-number">2.</span> <span class="nav-text">函数中高级</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#函数做返回值"><span class="nav-number">2.1.</span> <span class="nav-text">函数做返回值</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#函数大高级"><span class="nav-number">3.</span> <span class="nav-text">函数大高级</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#递归"><span class="nav-number">3.1.</span> <span class="nav-text">递归</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#函数执行的流程分析"><span class="nav-number">3.2.</span> <span class="nav-text">函数执行的流程分析</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#闭包"><span class="nav-number">4.</span> <span class="nav-text">闭包</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#什么是闭包"><span class="nav-number">4.1.</span> <span class="nav-text">什么是闭包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#示例"><span class="nav-number">4.2.</span> <span class="nav-text">示例</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#lambda-表达式"><span class="nav-number">5.</span> <span class="nav-text">lambda 表达式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#用于表示简单的函数"><span class="nav-number">5.1.</span> <span class="nav-text">用于表示简单的函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#内置函数"><span class="nav-number">6.</span> <span class="nav-text">内置函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#强制转换"><span class="nav-number">6.1.</span> <span class="nav-text">强制转换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#输入和输出"><span class="nav-number">6.2.</span> <span class="nav-text">输入和输出</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#其他函数"><span class="nav-number">6.3.</span> <span class="nav-text">其他函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#数学相关"><span class="nav-number">6.4.</span> <span class="nav-text">数学相关</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#进制转换"><span class="nav-number">6.5.</span> <span class="nav-text">进制转换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#编码相关"><span class="nav-number">6.6.</span> <span class="nav-text">编码相关</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#高级函数"><span class="nav-number">6.7.</span> <span class="nav-text">高级函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#map"><span class="nav-number">6.7.1.</span> <span class="nav-text">map</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#filter"><span class="nav-number">6.7.2.</span> <span class="nav-text">filter</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#reduce"><span class="nav-number">6.7.3.</span> <span class="nav-text">reduce</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#type"><span class="nav-number">6.7.4.</span> <span class="nav-text">type</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#issubclass"><span class="nav-number">6.7.5.</span> <span class="nav-text">issubclass</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#isinstance"><span class="nav-number">6.7.6.</span> <span class="nav-text">isinstance</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#super"><span class="nav-number">6.7.7.</span> <span class="nav-text">super</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#装饰器"><span class="nav-number">7.</span> <span class="nav-text">装饰器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#导入"><span class="nav-number">7.1.</span> <span class="nav-text">导入</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#装饰器含义"><span class="nav-number">7.2.</span> <span class="nav-text">装饰器含义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#基本格式"><span class="nav-number">7.3.</span> <span class="nav-text">基本格式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#问题"><span class="nav-number">7.4.</span> <span class="nav-text">问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#带参数的装饰器"><span class="nav-number">7.5.</span> <span class="nav-text">带参数的装饰器</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#迭代器"><span class="nav-number">8.</span> <span class="nav-text">迭代器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#引入"><span class="nav-number">8.1.</span> <span class="nav-text">引入</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#迭代器含义"><span class="nav-number">8.2.</span> <span class="nav-text">迭代器含义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#迭代器使用"><span class="nav-number">8.3.</span> <span class="nav-text">迭代器使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#for循环实质"><span class="nav-number">8.4.</span> <span class="nav-text">for循环实质</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#可迭代对象"><span class="nav-number">8.5.</span> <span class="nav-text">可迭代对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#迭代器口诀"><span class="nav-number">8.6.</span> <span class="nav-text">迭代器口诀</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#生成器"><span class="nav-number">9.</span> <span class="nav-text">生成器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#实质"><span class="nav-number">9.1.</span> <span class="nav-text">实质</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#格式"><span class="nav-number">9.2.</span> <span class="nav-text">格式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#总结"><span class="nav-number">9.3.</span> <span class="nav-text">总结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#练习"><span class="nav-number">9.4.</span> <span class="nav-text">练习</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#redis-源码示例"><span class="nav-number">9.5.</span> <span class="nav-text">redis 源码示例</span></a></li></ol></li></ol></div></div></section><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span id="scrollpercent"><span>0</span>%</span></div></div></aside></div></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2019</span> <span class="with-love"><font color="red"><i class="fa fa-heartbeat" aria-hidden="true"></i></font> </span><span class="author" itemprop="copyrightHolder"></span> &nbsp;<a href><font size="1px"><font color="#222">京ICP备19036394号</font></font></a></div><div style="width:300px;margin:0 auto;padding:0 0"><a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=13082602000027" style="display:inline-block;text-decoration:none;height:20px;line-height:20px"><img src="http://cdn.danpinsuiyue.com/%E5%A4%87%E6%A1%88%E5%9B%BE%E6%A0%87.png" style="float:left;width:10%;height:auto"><p style="float:left;height:20px;line-height:20px;margin:0 0 0 5px;color:#555;letter-spacing:0"><font size="1px"><font color="#222">冀公网安备 13082602000027号</font></font></p></a></div><div class="busuanzi-count"><script async src="/js/src/busuanzi.pure.mini.js"></script><span class="site-uv"><i class="fa fa-user"></i> <span class="busuanzi-value" id="busuanzi_value_site_uv"></span> </span><span class="site-pv"><i class="fa fa-eye"></i> <span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span></div></div></footer></div><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-backstretch/2.0.4/jquery.backstretch.min.js"></script><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="/js/src/Valine.min.js"></script><script type="text/javascript">var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: false,
        appId: 'f8Ptq1eG3eJ0gKEquXMKqByc-gzGzoHsz',
        appKey: 'NYxE4BEaEzXiEOmfLqJvHoSD',
        placeholder: '(๑•́ ₃ •̀๑) 留言时填写您的邮箱可以邮件收到博主的回复噢~',
        avatar:'mm',
        guest_info:guest,
        pageSize:'10' || 10,
    });</script><script type="text/javascript">function proceedsearch(){$("body").append('<div class="search-popup-overlay local-search-pop-overlay"></div>').css("overflow","hidden"),$(".search-popup-overlay").click(onPopupClose),$(".popup").toggle();var t=$("#local-search-input");t.attr("autocapitalize","none"),t.attr("autocorrect","off"),t.focus()}var isfetched=!1,isXml=!0,search_path="search.xml";0===search_path.length?search_path="search.xml":/json$/i.test(search_path)&&(isXml=!1);var path="/"+search_path,onPopupClose=function(t){$(".popup").hide(),$("#local-search-input").val(""),$(".search-result-list").remove(),$("#no-result").remove(),$(".local-search-pop-overlay").remove(),$("body").css("overflow","")},searchFunc=function(t,e,o){"use strict";$("body").append('<div class="search-popup-overlay local-search-pop-overlay"><div id="search-loading-icon"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div>').css("overflow","hidden"),$("#search-loading-icon").css("margin","20% auto 0 auto").css("text-align","center"),$.ajax({url:t,dataType:isXml?"xml":"json",async:!0,success:function(t){isfetched=!0,$(".popup").detach().appendTo(".header-inner");var n=isXml?$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get():t,r=document.getElementById(e),s=document.getElementById(o),a=function(){var t=r.value.trim().toLowerCase(),e=t.split(/[\s\-]+/);e.length>1&&e.push(t);var o=[];if(t.length>0&&n.forEach(function(n){function r(e,o,n,r){for(var s=r[r.length-1],a=s.position,i=s.word,l=[],h=0;a+i.length<=n&&0!=r.length;){i===t&&h++,l.push({position:a,length:i.length});var p=a+i.length;for(r.pop();0!=r.length&&(s=r[r.length-1],a=s.position,i=s.word,p>a);)r.pop()}return c+=h,{hits:l,start:o,end:n,searchTextCount:h}}function s(t,e){var o="",n=e.start;return e.hits.forEach(function(e){o+=t.substring(n,e.position);var r=e.position+e.length;o+='<b class="search-keyword">'+t.substring(e.position,r)+"</b>",n=r}),o+=t.substring(n,e.end)}var a=!1,i=0,c=0,l=n.title.trim(),h=l.toLowerCase(),p=n.content.trim().replace(/<[^>]+>/g,""),u=p.toLowerCase(),f=decodeURIComponent(n.url),d=[],g=[];if(""!=l&&(e.forEach(function(t){function e(t,e,o){var n=t.length;if(0===n)return[];var r=0,s=[],a=[];for(o||(e=e.toLowerCase(),t=t.toLowerCase());(s=e.indexOf(t,r))>-1;)a.push({position:s,word:t}),r=s+n;return a}d=d.concat(e(t,h,!1)),g=g.concat(e(t,u,!1))}),(d.length>0||g.length>0)&&(a=!0,i=d.length+g.length)),a){[d,g].forEach(function(t){t.sort(function(t,e){return e.position!==t.position?e.position-t.position:t.word.length-e.word.length})});var v=[];0!=d.length&&v.push(r(l,0,l.length,d));for(var $=[];0!=g.length;){var C=g[g.length-1],m=C.position,x=C.word,w=m-20,y=m+80;0>w&&(w=0),y<m+x.length&&(y=m+x.length),y>p.length&&(y=p.length),$.push(r(p,w,y,g))}$.sort(function(t,e){return t.searchTextCount!==e.searchTextCount?e.searchTextCount-t.searchTextCount:t.hits.length!==e.hits.length?e.hits.length-t.hits.length:t.start-e.start});var T=parseInt("1");T>=0&&($=$.slice(0,T));var b="";b+=0!=v.length?"<li><a href='"+f+"' class='search-result-title'>"+s(l,v[0])+"</a>":"<li><a href='"+f+"' class='search-result-title'>"+l+"</a>",$.forEach(function(t){b+="<a href='"+f+'\'><p class="search-result">'+s(p,t)+"...</p></a>"}),b+="</li>",o.push({item:b,searchTextCount:c,hitCount:i,id:o.length})}}),1===e.length&&""===e[0])s.innerHTML='<div id="no-result"><i class="fa fa-search fa-5x" /></div>';else if(0===o.length)s.innerHTML='<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>';else{o.sort(function(t,e){return t.searchTextCount!==e.searchTextCount?e.searchTextCount-t.searchTextCount:t.hitCount!==e.hitCount?e.hitCount-t.hitCount:e.id-t.id});var a='<ul class="search-result-list">';o.forEach(function(t){a+=t.item}),a+="</ul>",s.innerHTML=a}};r.addEventListener("input",a),$(".local-search-pop-overlay").remove(),$("body").css("overflow",""),proceedsearch()}})};$(".popup-trigger").click(function(t){t.stopPropagation(),isfetched===!1?searchFunc(path,"local-search-input","local-search-result"):proceedsearch()}),$(".popup-btn-close").click(onPopupClose),$(".popup").click(function(t){t.stopPropagation()}),$(document).on("keyup",function(t){var e=27===t.which&&$(".search-popup").is(":visible");e&&onPopupClose()})</script><script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script><script>AV.initialize("f8Ptq1eG3eJ0gKEquXMKqByc-gzGzoHsz","NYxE4BEaEzXiEOmfLqJvHoSD")</script><script>function showTime(e){var t=new AV.Query(e),n=[],o=$(".leancloud_visitors");o.each(function(){n.push($(this).attr("id").trim())}),t.containedIn("url",n),t.find().done(function(e){var t=".leancloud-visitors-count";if(0===e.length)return void o.find(t).text(0);for(var i=0;i<e.length;i++){var r=e[i],s=r.get("url"),l=r.get("time"),c=document.getElementById(s);$(c).find(t).text(l)}for(var i=0;i<n.length;i++){var s=n[i],c=document.getElementById(s),u=$(c).find(t);""==u.text()&&u.text(0)}}).fail(function(e,t){console.log("Error: "+t.code+" "+t.message)})}function addCount(e){var t=$(".leancloud_visitors"),n=t.attr("id").trim(),o=t.attr("data-flag-title").trim(),i=new AV.Query(e);i.equalTo("url",n),i.find({success:function(t){if(t.length>0){var i=t[0];i.fetchWhenSave(!0),i.increment("time"),i.save(null,{success:function(e){var t=$(document.getElementById(n));t.find(".leancloud-visitors-count").text(e.get("time"))},error:function(e,t){console.log("Failed to save Visitor num, with error message: "+t.message)}})}else{var r=new e,s=new AV.ACL;s.setPublicReadAccess(!0),s.setPublicWriteAccess(!0),r.setACL(s),r.set("title",o),r.set("url",n),r.set("time",1),r.save(null,{success:function(e){var t=$(document.getElementById(n));t.find(".leancloud-visitors-count").text(e.get("time"))},error:function(e,t){console.log("Failed to create")}})}},error:function(e){console.log("Error:"+e.code+" "+e.message)}})}$(function(){var e=AV.Object.extend("Counter");1==$(".leancloud_visitors").length?addCount(e):$(".post-title-link").length>1&&showTime(e)})</script><script>!function(){var t=document.createElement("script"),s=window.location.protocol.split(":")[0];"https"===s?t.src="https://zz.bdstatic.com/linksubmit/push.js":t.src="http://push.zhanzhang.baidu.com/push.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()</script><script type="text/javascript">wpac_init=window.wpac_init||[],wpac_init.push({widget:"Rating",id:17880,el:"wpac-rating",color:"f79533"}),function(){if(!("WIDGETPACK_LOADED"in window)){WIDGETPACK_LOADED=!0;var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//embed.widgetpack.com/widget.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t.nextSibling)}}()</script><script>$(".highlight").each(function(e,t){var n=$("<div>").addClass("highlight-wrap");$(t).after(n),n.append($("<button>").addClass("copy-btn").append("Copy").on("click",function(e){var t=$(this).parent().find(".code").find(".line").map(function(e,t){return $(t).text()}).toArray().join("\n"),n=document.createElement("textarea"),o=window.pageYOffset||document.documentElement.scrollTop;n.style.top=o+"px",n.style.position="absolute",n.style.opacity="0",n.readOnly=!0,n.value=t,document.body.appendChild(n),n.select(),n.setSelectionRange(0,t.length),n.readOnly=!1;var a=document.execCommand("copy");a?$(this).text("Copied"):$(this).text("Copy failed"),n.blur(),$(this).blur()})).on("mouseleave",function(e){var t=$(this).find(".copy-btn");setTimeout(function(){t.text("Copy")},300)}).append(t)})</script><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="/js/src/Valine.min.js"></script><script type="text/javascript">var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: false,
        appId: 'f8Ptq1eG3eJ0gKEquXMKqByc-gzGzoHsz',
        appKey: 'NYxE4BEaEzXiEOmfLqJvHoSD',
        placeholder: '(๑•́ ₃ •̀๑) 留言时填写您的邮箱可以邮件收到博主的回复噢~',
        avatar:'mm',
        guest_info:guest,
        pageSize:'10' || 10,
    });</script><script type="text/javascript" src="/js/src/clicklove.js"></script><script type="text/javascript" src="/js/src/linkcard.js"></script><script type="text/javascript" src="/js/src/love.js"></script><script src="/dist/js/social-share.min.js"></script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{jsonPath:"/live2dw/assets/tororo.model.json"},display:{superSample:2,width:120,height:100,position:"left // 模型在网页显示位置",hOffset:20,vOffset:50},mobile:{show:"true  // 移动设备是否显示",scale:.5},react:{opacityDefault:.7,opacityOnHover:.2},log:!1})</script></body></html><!-- rebuild by neat -->