<!-- build time:Fri Nov 08 2019 14:48:42 GMT+0800 (GMT+08:00) --><!DOCTYPE html><html class="theme-next mist" lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta name="google-site-verification" content="-YPbgjltFVFljoCm04Ktk0m38A8CkQxpifuKVZXtawA"><mate name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#222"><meta name="baidu-site-verification" content="6VWurVhWUo"><script>!function(e,t,o,c,i,a,n){e.DaoVoiceObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,a=t.createElement(o),n=t.getElementsByTagName(o)[0],a.async=1,a.src=c,a.charset="utf-8",n.parentNode.insertBefore(a,n)}(window,document,"script",("https:"==document.location.protocol?"https:":"http:")+"//widget.daovoice.io/widget/0f81ff2f.js","daovoice"),daovoice("init",{app_id:"cfec6b9c"}),daovoice("update")</script><script src="/lib/pace/pace.min.js?v=1.0.2"></script><link href="/lib/pace/pace-theme-flash.min.css?v=1.0.2" rel="stylesheet"><script></script><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="https://fonts.loli.net/css?family=Noto Serif SC:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png?v=5.1.4"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png?v=5.1.4"><link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222"><meta name="keywords" content="hash是个啥玩意,hash"><link rel="alternate" href="https://danpinsuiyue/atom.xml" title="淡品岁月" type="application/atom+xml"><meta name="description" content="摘要：​ 本博文主要介绍关于Python中函数的random 、hashlib、time /datetime等模块是干甚的，以及内部的方法怎么使用"><meta name="keywords" content="hash是个啥玩意,hash"><meta property="og:type" content="article"><meta property="og:title" content="Python基础模块大全"><meta property="og:url" content="http://www.danpinsuiyue.com/2354286169.html"><meta property="og:site_name" content="淡品岁月"><meta property="og:description" content="摘要：​ 本博文主要介绍关于Python中函数的random 、hashlib、time /datetime等模块是干甚的，以及内部的方法怎么使用"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="c:%5CUsers%5C%E6%B7%A1%E5%93%81%E5%B2%81%E6%9C%88%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1556278593584.png"><meta property="og:updated_time" content="2019-10-27T05:11:33.716Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Python基础模块大全"><meta name="twitter:description" content="摘要：​ 本博文主要介绍关于Python中函数的random 、hashlib、time /datetime等模块是干甚的，以及内部的方法怎么使用"><meta name="twitter:image" content="c:%5CUsers%5C%E6%B7%A1%E5%93%81%E5%B2%81%E6%9C%88%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1556278593584.png"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Mist",version:"5.1.4",sidebar:{position:"left",display:"hide",offset:12,b2t:!0,scrollpercent:!0,onmobile:!0},fancybox:!1,tabs:!0,motion:{enable:!1,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},duoshuo:{userId:"0",author:"Author"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><script>!function(){var t=document.createElement("script"),s=window.location.protocol.split(":")[0];"https"===s?t.src="https://zz.bdstatic.com/linksubmit/push.js":t.src="http://push.zhanzhang.baidu.com/push.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()</script><script></script><link rel="canonical" href="http://www.danpinsuiyue.com/2354286169.html"><title>Python基础模块大全 - 淡品岁月的博客</title><script type="text/javascript">var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?57e89d86ab656322157f31965a215fe4";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-139884627-1"></script><link rel="stylesheet" href="/dist/css/share.min.css"><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-139884627-1")</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?9d4a3700a4e6444240fe13acb69c87fc";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></mate></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="site-title">淡品岁月</span></a></div><h1 class="site-subtitle" itemprop="description">CV工程师</h1></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-archive"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class="menu-item menu-item-top"><a href="/top/" rel="section"><i class="menu-item-icon fa fa-fw fa-signal"></i><br>热门</a></li><li class="menu-item menu-item-links"><a href="/links/" rel="section"><i class="menu-item-icon fa fa-fw fa-user-plus"></i><br>友链</a></li><li class="menu-item menu-item-game"><a href="/game" rel="section"><i class="menu-item-icon fa fa-fw fa-gamepad"></i><br>娱乐</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>Search</a></li></ul><div class="site-search"><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class="search-icon"><i class="fa fa-search"></i> </span><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span><div class="local-search-input-wrapper"><input autocomplete="off" placeholder="Searching..." spellcheck="false" type="text" id="local-search-input"></div></div><div id="local-search-result"></div></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://www.danpinsuiyue.com/2354286169.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content><meta itemprop="description" content><meta itemprop="image" content="/images/touxiang.jpeg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="淡品岁月"></span><header class="post-header"><h2 class="post-title" itemprop="name headline">Python基础模块大全</h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><font color="blue"><i class="fa fa-calendar"></i></font> </span><time title="Post created" itemprop="dateCreated datePublished" datetime="2019-02-25T21:37:16+08:00"><font color="blue">2019-02-25</font> </time></span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><font color="#56b6e7"><i class="fa fa-folder-open"></i></font> </span><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Python/" itemprop="url" rel="index"><font color="#56b6e7"><span itemprop="name">Python</span></font> </a></span></span><span class="post-meta-divider">|</span> <span class="page-pv"><i class="fa">阅读量</i> <span class="busuanzi-value" id="busuanzi_value_page_pv"></span></span><div class="post-wordcount"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><font color="green"><i class="fa fa-file-word-o"></i></font> </span><font color="green"><span title="Words count in article">5.1k</span></font></div></div></header><div class="post-body" itemprop="articleBody"><p><strong>摘要：</strong></p><p>​ <strong>本博文主要介绍关于Python中函数的random 、hashlib、time /datetime等模块是干甚的，以及内部的方法怎么使用</strong></p><a id="more"></a><h2 id="random模块"><a href="#random模块" class="headerlink" title="random模块"></a>random模块</h2><p>返回随机生成的一个实数</p><h3 id="random-randint"><a href="#random-randint" class="headerlink" title="random.randint"></a>random.randint</h3><p>返回随机生成的一个实数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random	<span class="comment">#调用模块</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_random_code</span><span class="params">(length=<span class="number">6</span>)</span>:</span><span class="comment">#变量为6</span></span><br><span class="line">    data = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(length):<span class="comment">#循环6次</span></span><br><span class="line">        v = random.randint(<span class="number">65</span>,<span class="number">90</span>)<span class="comment">#生成65-90之间随机数字</span></span><br><span class="line">        data.append(chr(v))<span class="comment">#将v变为字符追加到data列表中</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span>  <span class="string">''</span>.join(data)<span class="comment">#将列表中元素链接，变为空字符串</span></span><br><span class="line"></span><br><span class="line">code = get_random_code()</span><br><span class="line">print(code)<span class="comment">#6位随机字符</span></span><br></pre></td></tr></table></figure><h3 id="random-choice"><a href="#random-choice" class="headerlink" title="random.choice"></a>random.choice</h3><p>从序列中随机抽选一个函数 验证码，抽奖</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line">print(random.choice([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]))</span><br></pre></td></tr></table></figure><h3 id="random-sample"><a href="#random-sample" class="headerlink" title="random.sample"></a>random.sample</h3><p>一个奖项多个人</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line">print(random.sample([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],<span class="number">3</span>)) 	<span class="comment"># [3, 2, 4]</span></span><br></pre></td></tr></table></figure><h3 id="random-uniform"><a href="#random-uniform" class="headerlink" title="random.uniform"></a>random.uniform</h3><p>随机小数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line">print(random.uniform(<span class="number">1</span>,<span class="number">5</span>))	<span class="comment"># 3.599380534928744</span></span><br></pre></td></tr></table></figure><h3 id="random-shuffle"><a href="#random-shuffle" class="headerlink" title="random.shuffle"></a>random.shuffle</h3><p>将序列顺序打乱 洗牌</p><h3 id="random-random"><a href="#random-random" class="headerlink" title="random.random"></a>random.random</h3><p>生成0和1之间的随机浮点数float</p><h2 id="hashlib模块"><a href="#hashlib模块" class="headerlink" title="hashlib模块"></a>hashlib模块</h2><p>摘要算法模块 Hmac算法</p><h3 id="md5-sha"><a href="#md5-sha" class="headerlink" title="md5/sha"></a>md5/sha</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line">md5 = hashlib.sha1(<span class="string">'盐'</span>.encode())</span><br><span class="line">md5.update(<span class="string">b'str'</span>)</span><br><span class="line">print(md5.hexdigest())</span><br></pre></td></tr></table></figure><p>两个文件的md5值是相同的</p><figure class="highlight q"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import hashlib</span><br><span class="line"></span><br><span class="line"><span class="built_in">md5</span> = hashlib.<span class="built_in">md5</span>()</span><br><span class="line">#<span class="built_in">md5</span>.<span class="keyword">update</span>('hello'.encode())</span><br><span class="line">#<span class="built_in">md5</span>.<span class="keyword">update</span>('wusir'.encode())</span><br><span class="line"><span class="built_in">md5</span>.<span class="keyword">update</span>('hello,wusir'.encode())</span><br><span class="line"># <span class="number">46879507</span>bf541e351209c0cd56ac160e</span><br><span class="line"><span class="number">46879507</span>bf541e351209c0cd56ac160e</span><br><span class="line">print(<span class="built_in">md5</span>.hexdigest())</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将指定的 “字符串” 进行加密</span></span><br><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_md5</span><span class="params">(data)</span>:</span></span><br><span class="line">    obj = hashlib.md5()<span class="comment">#md5对象，md5不能反解，但是加密是固定的，就是关系是一一对应，所以有缺陷，可以被对撞出来，如果没有参数，所以md5遵守一个规则，生成同一个对应关系，</span></span><br><span class="line">    <span class="comment">#如果加了参数，就是在原先加密的基础上再加密一层，这样的话参数只有自己知道，防止被撞库。</span></span><br><span class="line">    obj.update(data.encode(<span class="string">'utf-8'</span>))<span class="comment">#要对哪个字符串进行加密，就放这里</span></span><br><span class="line">    result = obj.hexdigest()<span class="comment">#拿到加密字符串</span></span><br><span class="line">    <span class="keyword">return</span> result<span class="comment"># 返回加密字符串</span></span><br><span class="line"></span><br><span class="line">val = get_md5(<span class="string">'123'</span>)</span><br><span class="line">print(val)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 应用，用户登录</span></span><br><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line">USER_LIST = []</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_md5</span><span class="params">(data)</span>:</span></span><br><span class="line">    obj = hashlib.md5(<span class="string">"12:;4436ff123ad"</span>.encode(<span class="string">'utf-8'</span>))</span><br><span class="line">    obj.update(data.encode(<span class="string">'utf-8'</span>))</span><br><span class="line">    result = obj.hexdigest()</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">register</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'**************用户注册**************'</span>)<span class="comment">#提示</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:<span class="comment">#循环注册</span></span><br><span class="line">        user = input(<span class="string">'请输入用户名:'</span>)<span class="comment">#输入</span></span><br><span class="line">        <span class="keyword">if</span> user == <span class="string">'N'</span>:<span class="comment">#判断输入是否为N</span></span><br><span class="line">            <span class="keyword">return</span>	<span class="comment">#结束循环、函数</span></span><br><span class="line">        pwd = input(<span class="string">'请输入密码:'</span>)<span class="comment">#输入密码</span></span><br><span class="line">        temp = &#123;<span class="string">'username'</span>:user,<span class="string">'password'</span>:get_md5(pwd)&#125;<span class="comment">#用户名和密码通过加密放在字典里</span></span><br><span class="line">        USER_LIST.append(temp)<span class="comment">#将字典追加到列表里</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">login</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'**************用户登陆**************'</span>)<span class="comment">#提示</span></span><br><span class="line">    user = input(<span class="string">'请输入用户名:'</span>)<span class="comment">#输入</span></span><br><span class="line">    pwd = input(<span class="string">'请输入密码:'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> USER_LIST:<span class="comment">#循环列表里的字典</span></span><br><span class="line">        <span class="keyword">if</span> item[<span class="string">'username'</span>] == user <span class="keyword">and</span> item[<span class="string">'password'</span>] == get_md5(pwd):<span class="comment">#比较输入的内容与字典里是否一样</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">register()</span><br><span class="line">result = login()</span><br><span class="line"><span class="keyword">if</span> result:<span class="comment">#判断返回值是否为真</span></span><br><span class="line">    print(<span class="string">'登陆成功'</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">'登陆失败'</span>)</span><br></pre></td></tr></table></figure><h3 id="hmac"><a href="#hmac" class="headerlink" title="hmac"></a>hmac</h3><p>输出的长度和原始哈希算法的长度一致。需要注意传入的key和message都是<code>bytes</code>类型，<code>str</code>类型需要首先编码为<code>bytes</code>。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hmac</span><br><span class="line">message = <span class="string">b'Hello world'</span></span><br><span class="line">key = <span class="string">b'secret'</span></span><br><span class="line">h = hmac.new(key,message,digestmod=<span class="string">'MD5'</span>)</span><br><span class="line">print(h.hexdigest())</span><br></pre></td></tr></table></figure><h2 id="time-datetime模块"><a href="#time-datetime模块" class="headerlink" title="time  /datetime模块"></a>time /datetime模块</h2><p>时间模块</p><h3 id="time-time"><a href="#time-time" class="headerlink" title="time.time"></a>time.time</h3><p>时间戳</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time </span><br><span class="line"></span><br><span class="line">v = time.time() <span class="comment"># 时间戳：1970-1-1 00:00</span></span><br></pre></td></tr></table></figure><h3 id="time-timezone"><a href="#time-timezone" class="headerlink" title="time.timezone"></a>time.timezone</h3><p>当前时区与时间戳相差的秒数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line">print(time.timezone)	<span class="comment"># -28800</span></span><br></pre></td></tr></table></figure><h3 id="time-sleep"><a href="#time-sleep" class="headerlink" title="time.sleep"></a>time.sleep</h3><p>睡几秒</p><h3 id="datetime-now"><a href="#datetime-now" class="headerlink" title="datetime.now"></a>datetime.now</h3><p>当前本地时间</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line">v1 = datetime.now()</span><br><span class="line">print(v1)	<span class="comment"># 2019-04-18 17:52:33.046206</span></span><br></pre></td></tr></table></figure><h3 id="timezone"><a href="#timezone" class="headerlink" title="timezone"></a>timezone</h3><p>获取东几区时间</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime,timezone,timedelta</span><br><span class="line"></span><br><span class="line">tz = timezone(timedelta(hours=<span class="number">7</span>)) <span class="comment"># 当前东7区时间</span></span><br><span class="line">v2 = datetime.now(tz)</span><br></pre></td></tr></table></figure><h3 id="datetime-utcnow"><a href="#datetime-utcnow" class="headerlink" title="datetime.utcnow"></a>datetime.utcnow</h3><p>当前UTC时间</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime,timezone,timedelta</span><br><span class="line"></span><br><span class="line">v3 = datetime.utcnow() <span class="comment"># 当前UTC时间</span></span><br><span class="line">print(v3)</span><br></pre></td></tr></table></figure><h3 id="strftime"><a href="#strftime" class="headerlink" title="strftime"></a>strftime</h3><p>把datetime格式转换成字符串</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime,timezone,timedelta</span><br><span class="line"></span><br><span class="line">v1 = datetime.now()</span><br><span class="line">print(v1,type(v1))</span><br><span class="line">val = v1.strftime(<span class="string">"%Y-%m-%d %H:%M:%S"</span>)</span><br><span class="line">print(val)</span><br></pre></td></tr></table></figure><h3 id="datetime-strptime"><a href="#datetime-strptime" class="headerlink" title="datetime.strptime"></a>datetime.strptime</h3><p>字符串转成datetime</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime,timezone,timedelta</span><br><span class="line"></span><br><span class="line">v1 = datetime.strptime(<span class="string">'2011-11-11'</span>,<span class="string">'%Y-%m-%d'</span>)</span><br><span class="line">print(v1,type(v1))</span><br></pre></td></tr></table></figure><h3 id="timedelta"><a href="#timedelta" class="headerlink" title="timedelta"></a>timedelta</h3><p>datetime时间的加减</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime,timezone,timedelta</span><br><span class="line"></span><br><span class="line">v1 = datetime.strptime(<span class="string">'2011-11-11'</span>,<span class="string">'%Y-%m-%d'</span>)</span><br><span class="line">v2 = v1 - timedelta(days=<span class="number">140</span>)</span><br><span class="line">date = v2.strftime(<span class="string">'%Y-%m-%d'</span>)</span><br><span class="line">print(date)</span><br></pre></td></tr></table></figure><h3 id="时间戳和datetime关系"><a href="#时间戳和datetime关系" class="headerlink" title="时间戳和datetime关系"></a>时间戳和datetime关系</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime,timezone,timedelta</span><br><span class="line"></span><br><span class="line">ctime = time.time()</span><br><span class="line">print(ctime)</span><br><span class="line">v1 = datetime.fromtimestamp(ctime)</span><br><span class="line">print(v1)</span><br><span class="line"></span><br><span class="line">v1 = datetime.now()</span><br><span class="line">val = v1.timestamp()</span><br><span class="line">print(val)</span><br></pre></td></tr></table></figure><h2 id="getpass模块"><a href="#getpass模块" class="headerlink" title="getpass模块"></a>getpass模块</h2><p>密码不显示（只能在终端运行）</p><h3 id="密码不显示（只能在终端运行）"><a href="#密码不显示（只能在终端运行）" class="headerlink" title="密码不显示（只能在终端运行）"></a>密码不显示（只能在终端运行）</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> getpass</span><br><span class="line"></span><br><span class="line">pwd = getpass.getpass(<span class="string">'请输入密码：'</span>)</span><br><span class="line"><span class="keyword">if</span> pwd == <span class="string">'123'</span>:</span><br><span class="line">    print(<span class="string">'输入正确'</span>)</span><br></pre></td></tr></table></figure><h2 id="sys模块"><a href="#sys模块" class="headerlink" title="sys模块"></a>sys模块</h2><p>解释器相关模块</p><h3 id="sys-getrefcount"><a href="#sys-getrefcount" class="headerlink" title="sys.getrefcount"></a>sys.getrefcount</h3><p>获取一个值的应用计数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">a = [<span class="number">11</span>,<span class="number">22</span>,<span class="number">33</span>]</span><br><span class="line">b = a</span><br><span class="line">print(sys.getrefcount(a))	<span class="comment"># 3</span></span><br></pre></td></tr></table></figure><h3 id="sys-getrecursionlimit"><a href="#sys-getrecursionlimit" class="headerlink" title="sys.getrecursionlimit"></a>sys.getrecursionlimit</h3><p>python默认支持的递归数量</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line">print(sys.getrecursionlimit())	<span class="comment"># 1000</span></span><br></pre></td></tr></table></figure><h3 id="sys-stdout-writ"><a href="#sys-stdout-writ" class="headerlink" title="sys.stdout.writ"></a>sys.stdout.writ</h3><p>print (可以查看进度)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">101</span>):</span><br><span class="line">	mag = <span class="string">"%s%%\r"</span> %i</span><br><span class="line">	print(mag,end=<span class="string">""</span>)</span><br><span class="line">	time.sleep(<span class="number">0.05</span>)	<span class="comment">#从1%长到100%</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="comment"># 1.读取文件大小(字节)</span></span><br><span class="line">file_size = os.stat(<span class="string">'day001.zip'</span>).st_size<span class="comment"># 文件大小</span></span><br><span class="line"><span class="comment"># 2.一点一点的读取文件</span></span><br><span class="line">read_size = <span class="number">0</span>   <span class="comment"># 阅读大小</span></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'day001.zip'</span>,mode=<span class="string">'rb'</span>) <span class="keyword">as</span> f1 , open (<span class="string">'a.zip'</span>,mode=<span class="string">'wb'</span>) <span class="keyword">as</span> f2:</span><br><span class="line">    <span class="keyword">while</span> read_size &lt; file_size:</span><br><span class="line">        chunk = f1.read(<span class="number">1024</span>) <span class="comment">#每次最多读取1024字节</span></span><br><span class="line">        f2.write(chunk)</span><br><span class="line">        read_size += len(chunk) <span class="comment">#阅读大小=阅读大小+读取长度</span></span><br><span class="line">        val = int(read_size/file_size * <span class="number">100</span>) <span class="comment"># 求当前读取%数</span></span><br><span class="line">        print(<span class="string">'%s%%\r'</span>%val,end=<span class="string">''</span>)</span><br></pre></td></tr></table></figure><h3 id="sys-argv"><a href="#sys-argv" class="headerlink" title="sys.argv"></a><strong>sys.argv</strong></h3><p>获取用户执行脚本时，传入的参数。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">让用户执行脚本传入要删除的文件路径，在内部帮助用将目录删除。</span></span><br><span class="line"><span class="string">C:\Python36\python36.exe D:/code/s21day14/7.模块传参.py D:/test</span></span><br><span class="line"><span class="string">C:\Python36\python36.exe D:/code/s21day14/7.模块传参.py</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取用户执行脚本时，传入的参数。</span></span><br><span class="line"><span class="comment"># C:\Python36\python36.exe D:/code/s21day14/7.模块传参.py D:/test</span></span><br><span class="line"><span class="comment"># sys.argv = [D:/code/s21day14/7.模块传参.py, D:/test]</span></span><br><span class="line">path = sys.argv[<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除目录</span></span><br><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line">shutil.rmtree(path)</span><br></pre></td></tr></table></figure><h3 id="sys-path"><a href="#sys-path" class="headerlink" title="sys.path"></a><strong>sys.path</strong></h3><p>模块搜索 <strong>默认Python去导入模块时，会按照sys.path中的路径挨个查找。</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># import sys</span></span><br><span class="line"><span class="comment"># sys.path.append('D:\\')</span></span><br><span class="line"><span class="comment"># import oldboy</span></span><br></pre></td></tr></table></figure><ul><li><p>sys.exit（0） 终止程序</p></li><li><p>sys.modules 存储当前程序用到的所有模块，反射文件中的内容</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> demo	<span class="comment"># 导入自定义py文件</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">print(demo)</span><br><span class="line">print(sys.modules)</span><br><span class="line">print(demo <span class="keyword">is</span> sys.modules[<span class="string">'demo'</span>])</span><br><span class="line">print(getattr(sys.modules[<span class="string">'demo'</span>],<span class="string">'a'</span>))</span><br></pre></td></tr></table></figure></li></ul><h2 id="os模块"><a href="#os模块" class="headerlink" title="os模块"></a>os模块</h2><p>操作系统相关</p><h3 id="os-path-exists-path"><a href="#os-path-exists-path" class="headerlink" title="os.path.exists(path)"></a><strong>os.path.exists(path)</strong></h3><p><strong>判断文件目录是否存在</strong> <strong>， 如果path存在，返回True；如果path不存在，返回False</strong></p><h3 id="os-path-isfile-path"><a href="#os-path-isfile-path" class="headerlink" title="os.path.isfile(path)"></a><strong>os.path.isfile(path)</strong></h3><p><strong>判断文件是否存在</strong></p><h3 id="os-path-basename-file-path"><a href="#os-path-basename-file-path" class="headerlink" title="*os.path.basename(file_path) *"></a>*<em>os.path.basename(file_path) *</em></h3><p><strong>获取文件名</strong></p><h3 id="os-stat-‘file’-st-size"><a href="#os-stat-‘file’-st-size" class="headerlink" title="*os.stat(‘file’).st_size   *"></a>*<em>os.stat(‘file’).st_size *</em></h3><p><strong>获取文件大小</strong></p><h3 id="os-path-getsize-path"><a href="#os-path-getsize-path" class="headerlink" title="*os.path.getsize(path)      *"></a>*<em>os.path.getsize(path) *</em></h3><p><strong>获取文件大小</strong></p><h3 id="os-path-abspath"><a href="#os-path-abspath" class="headerlink" title="*os.path.abspath()   *"></a>*<em>os.path.abspath() *</em></h3><p>*<em>获取一个文件的绝对路径 （<code>__file__</code>）获取当前文件绝对路径 *</em></p><h3 id="os-path-isabs-path"><a href="#os-path-isabs-path" class="headerlink" title="*os.path.isabs(path)      *"></a>*<em>os.path.isabs(path) *</em></h3><p><strong>判断是否为绝对路径</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">path = <span class="string">'20190409_192149.mp4'</span> <span class="comment"># E:\Python_WorkSpace\day014 装饰器带参数\day001.zip</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line">v1 = os.path.abspath(path)</span><br><span class="line">print(v1)</span><br><span class="line"><span class="comment"># E:\Python_WorkSpace\day014 装饰器带参数\day001.zip</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取当前文件的绝对路径</span></span><br><span class="line">a = os.path.abspath(__file__)</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure><h3 id="os-path-dirname"><a href="#os-path-dirname" class="headerlink" title="*os.path.dirname *"></a>*<em>os.path.dirname *</em></h3><p><strong>获取路径的上级目录</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">v = <span class="string">r"E:\Python_WorkSpace\day014 装饰器带参数\day001.zip"</span></span><br><span class="line"></span><br><span class="line">print(os.path.dirname(v))</span><br><span class="line"><span class="comment"># E:\Python_WorkSpace\day014 装饰器带参数</span></span><br></pre></td></tr></table></figure><h3 id="os-path-join"><a href="#os-path-join" class="headerlink" title="*os.path.join *"></a>*<em>os.path.join *</em></h3><p><strong>路径的拼接</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">path = <span class="string">"E:\Python_WorkSpace\day014"</span> <span class="comment"># user/index/inx/fasd/</span></span><br><span class="line">v = <span class="string">'n.txt'</span></span><br><span class="line"></span><br><span class="line">result = os.path.join(path,v)</span><br><span class="line">print(result)</span><br><span class="line">result = os.path.join(path,<span class="string">'n1'</span>,<span class="string">'n2'</span>,<span class="string">'n3'</span>)</span><br><span class="line">print(result)</span><br><span class="line"><span class="comment"># E:\Python_WorkSpace\day014\n.txt</span></span><br><span class="line"><span class="comment"># E:\Python_WorkSpace\day014\n1\n2\n3</span></span><br></pre></td></tr></table></figure><h3 id="os-listdir"><a href="#os-listdir" class="headerlink" title="os.listdir"></a>os.listdir</h3><p>查看一个目录下所有的文件【第一层】</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">result = os.listdir(<span class="string">r'E:\Python_WorkSpace\day014 装饰器带参数'</span>)</span><br><span class="line"><span class="keyword">for</span> path <span class="keyword">in</span> result:</span><br><span class="line">    print(path)</span><br></pre></td></tr></table></figure><h3 id="os-walk"><a href="#os-walk" class="headerlink" title="*os.walk *"></a>*<em>os.walk *</em></h3><p>** 查看一个目录下所有的文件【所有层】**</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">result = os.walk(<span class="string">r'E:\Python_WorkSpace\day014 装饰器带参数'</span>)</span><br><span class="line"><span class="keyword">for</span> a,b,c <span class="keyword">in</span> result:</span><br><span class="line">    <span class="comment"># a,正在查看的目录 b,此目录下的文件夹  c,此目录下的文件</span></span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> c:</span><br><span class="line">        path = os.path.join(a,item)</span><br><span class="line">        print(path)</span><br></pre></td></tr></table></figure><h3 id="os-makedirs"><a href="#os-makedirs" class="headerlink" title="os.makedirs"></a>os.makedirs</h3><p>创建目录和子目录</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">file_path = <span class="string">r'db\xx\xo\xxxxx.txt'</span> <span class="comment"># 文件路径</span></span><br><span class="line"></span><br><span class="line">file_folder = os.path.dirname(file_path) <span class="comment"># 文件夹</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(file_folder): <span class="comment"># 判断文件夹是否存在</span></span><br><span class="line">    os.makedirs(file_folder)    <span class="comment"># 创建文件夹</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> open(file_path,mode=<span class="string">'w'</span>,encoding=<span class="string">'utf-8'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(<span class="string">'asdf'</span>)</span><br></pre></td></tr></table></figure><h3 id="os-renname"><a href="#os-renname" class="headerlink" title="os.renname"></a>os.renname</h3><p>重命名</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import <span class="built_in">os</span></span><br><span class="line"><span class="built_in">os</span>.<span class="built_in">rename</span>(<span class="string">'db'</span>,<span class="string">'sb'</span>)</span><br></pre></td></tr></table></figure><h2 id="shtil模块"><a href="#shtil模块" class="headerlink" title="shtil模块"></a>shtil模块</h2><p>高级的 文件、文件夹、压缩包 处理模块</p><h3 id="shutil-rmtree"><a href="#shutil-rmtree" class="headerlink" title="shutil.rmtree"></a>shutil.rmtree</h3><p>删除目录</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line">shutil.rmtree(path)</span><br></pre></td></tr></table></figure><h3 id="shutil-move"><a href="#shutil-move" class="headerlink" title="shutil.move"></a>shutil.move</h3><p>重命名；移动文件</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line">shutil.move(<span class="string">'test'</span>,<span class="string">'ttt'</span>)</span><br></pre></td></tr></table></figure><h3 id="shutil-make-archive"><a href="#shutil-make-archive" class="headerlink" title="shutil.make_archive"></a>shutil.make_archive</h3><p>压缩文件夹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>  shutil</span><br><span class="line"></span><br><span class="line">shutil.make_archive(<span class="string">'cade\asd'</span>,<span class="string">'zip'</span>,<span class="string">r'E:\Python_WorkSpace\day016 模块\abc'</span>)</span><br></pre></td></tr></table></figure><h3 id="shutil-unpack-archive"><a href="#shutil-unpack-archive" class="headerlink" title="shutil.unpack_archive"></a>shutil.unpack_archive</h3><p>解压文件</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>  shutil</span><br><span class="line"></span><br><span class="line">shutil.unpack_archive(<span class="string">'abc.zip'</span>,extract_dir=<span class="string">r'E:\Python_WorkSpace\day016 模块\abc'</span>,format=<span class="string">'zip'</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 练习</span></span><br><span class="line"><span class="comment"># 1.压缩lizhongwei文件夹 zip</span></span><br><span class="line"><span class="comment"># 2.放到到 code 目录（默认不存在）</span></span><br><span class="line"><span class="comment"># 3.将文件解压到D:\x1目录中。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line">ctime = datetime.now().strftime(<span class="string">'%Y-%m-%d-%H-%M-%S'</span>)	<span class="comment"># 将当前时间转换成字符串</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(<span class="string">'code'</span>):	<span class="comment"># 判断 code 文件目录是否存在</span></span><br><span class="line">    os.makedirs(<span class="string">'code'</span>)	<span class="comment"># 创建 code</span></span><br><span class="line">shutil.make_archive(os.path.join(<span class="string">'code'</span>,ctime),<span class="string">'zip'</span>,<span class="string">'D:\code\s21day16\lizhongwei'</span>)	<span class="comment"># 压缩文件 在code文件夹中，名称为2019-04-18-17-12-24压缩文件</span></span><br><span class="line"></span><br><span class="line">file_path = os.path.join(<span class="string">'code'</span>,ctime) + <span class="string">'.zip'</span>	<span class="comment">#被解压文件名称 </span></span><br><span class="line">shutil.unpack_archive(file_path,<span class="string">r'D:\x1'</span>,<span class="string">'zip'</span>)	<span class="comment">#解压文件到指定目录</span></span><br></pre></td></tr></table></figure><h2 id="json-pickle模块"><a href="#json-pickle模块" class="headerlink" title="json  /   pickle模块"></a>json / pickle模块</h2><p>序列化</p><h3 id="二者优缺点"><a href="#二者优缺点" class="headerlink" title="二者优缺点"></a>二者优缺点</h3><ul><li><p>json,优点：所有语言通用；缺点：只能序列化基本的数据类型</p><p>所有字符串都是双引号；最外层只能是列表或字典</p><p>存在字典的key只能是str;不能连续load多次</p></li><li><p>pickle,优点：python中几乎所有的东西都能被序列化（socket对象）；缺点：序列化的内容只有python认识</p><p>支持连续load多次</p></li></ul><p>一个特殊的字符串。【长得像列表、字典、字符串、数字、真假】</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">+-------------------+---------------+</span><br><span class="line">   | Python            | JSON          |</span><br><span class="line">   +===================+===============+</span><br><span class="line">   | dict              | object        |</span><br><span class="line">   +-------------------+---------------+</span><br><span class="line">   | list, tuple       | array         |</span><br><span class="line">   +-------------------+---------------+</span><br><span class="line">   | str               | string        |</span><br><span class="line">   +-------------------+---------------+</span><br><span class="line">   | int, float        | number        |</span><br><span class="line">   +-------------------+---------------+</span><br><span class="line">   | <span class="literal">True</span>              | true          |</span><br><span class="line">   +-------------------+---------------+</span><br><span class="line">   | <span class="literal">False</span>             | false         |</span><br><span class="line">   +-------------------+---------------+</span><br><span class="line">   | <span class="literal">None</span>              | null          |</span><br><span class="line">   +-------------------+---------------+</span><br></pre></td></tr></table></figure><h3 id="dumps"><a href="#dumps" class="headerlink" title="dumps"></a>dumps</h3><p>序列化，将python的值转换为json格式的字符串(str/bytes类型)。</p><h3 id="loads"><a href="#loads" class="headerlink" title="loads"></a>loads</h3><p>反序列化，将json格式的字符串转换为python的值。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line"></span><br><span class="line">v = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;</span><br><span class="line"><span class="comment"># 序列化，将python的值转换为json格式的字符串。</span></span><br><span class="line">val = pickle.dumps(v)</span><br><span class="line">print(val)</span><br><span class="line"><span class="comment"># 反序列化，将json格式的字符串转换为python的值。</span></span><br><span class="line">data = pickle.loads(val)</span><br><span class="line">print(data,type(data))</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 示例一</span></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line">v = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="string">'frfed'</span>,<span class="string">'tgrf'</span>,[<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>]]</span><br><span class="line"><span class="comment"># 序列化，将python的值转换为json格式的字符串。</span></span><br><span class="line">v1 = json.dumps(v)</span><br><span class="line">print(v1,type(v1))  <span class="comment"># [1, 2, 3, 4, "frfed", "tgrf", [1, 3, 2]] &lt;class 'str'&gt;</span></span><br><span class="line"><span class="comment"># 反序列化，将json格式的字符串转换为python的值。</span></span><br><span class="line">v3 = json.loads(v1)</span><br><span class="line">print(v3,type(v3))  <span class="comment"># [1, 2, 3, 4, 'frfed', 'tgrf', [1, 3, 2]] &lt;class 'list'&gt;</span></span><br></pre></td></tr></table></figure><p>字典或列表中如有中文，序列化时想要保留中文显示:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">v = &#123;<span class="string">'k1'</span>:<span class="string">"asdf"</span>,<span class="string">'k2'</span>:<span class="string">'中文'</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line">val = json.dumps(v,ensure_ascii=<span class="literal">False</span>)</span><br><span class="line">print(val)	<span class="comment"># &#123;"k1": "alex", "k2": "李杰"&#125;</span></span><br></pre></td></tr></table></figure><h3 id="dump"><a href="#dump" class="headerlink" title="dump"></a>dump</h3><p>将字典以特殊格式写到文件中</p><h3 id="load"><a href="#load" class="headerlink" title="load"></a>load</h3><p>读取文件中内容转换成字典</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">v = &#123;<span class="string">'k1'</span>:<span class="string">"asdf"</span>,<span class="string">'k2'</span>:<span class="string">'中文'</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line">f = open(<span class="string">'x.txt'</span>,mode=<span class="string">'w'</span>,encoding=<span class="string">'utf-8'</span>)</span><br><span class="line">val = json.dump(v,f)</span><br><span class="line">print(val)	<span class="comment"># None</span></span><br><span class="line">f.close		<span class="comment"># &#123;"k1": "asdf", "k2": "\u4e2d\u6587"&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line">f = open(<span class="string">'x.txt'</span>,mode=<span class="string">'r'</span>,encoding=<span class="string">'utf-8'</span>)</span><br><span class="line">val = json.load(f)</span><br><span class="line">f.close</span><br><span class="line">print(val,type(val))	<span class="comment"># &#123;'k1': 'asdf', 'k2': '中文'&#125; &lt;class 'dict'&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line"></span><br><span class="line">v = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;</span><br><span class="line">f = open(<span class="string">'x.txt'</span>,mode=<span class="string">'wb'</span>)</span><br><span class="line">val = pickle.dump(v,f)</span><br><span class="line">f.close()</span><br><span class="line"></span><br><span class="line">f = open(<span class="string">'x.txt'</span>,mode=<span class="string">'rb'</span>)</span><br><span class="line">data = pickle.load(f)</span><br><span class="line">f.close()</span><br><span class="line">print(data)</span><br></pre></td></tr></table></figure><h2 id="importlib模块"><a href="#importlib模块" class="headerlink" title="importlib模块"></a>importlib模块</h2><p>根据字符串的形式导入模块。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">模块 = importlib.import_module(<span class="string">'utils.redis'</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 示例一</span></span><br><span class="line"><span class="keyword">import</span> importlib</span><br><span class="line"></span><br><span class="line"><span class="comment"># 用字符串形式导入模块</span></span><br><span class="line">redis = importlib.import_module(<span class="string">'utils.redis'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 用字符串的形式去对象（模块）找到他的成员</span></span><br><span class="line">getattr(redis,<span class="string">'func'</span>)()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例二</span></span><br><span class="line"><span class="keyword">import</span> importlib</span><br><span class="line"></span><br><span class="line">path = <span class="string">'utils.redis.func'</span></span><br><span class="line"></span><br><span class="line">module_path,func_name = path.rsplit(<span class="string">'.'</span>,maxsplit=<span class="number">1</span>)</span><br><span class="line">module_object = importlib.import_module(module_path)</span><br><span class="line"></span><br><span class="line">getattr(module_object,func_name)()</span><br></pre></td></tr></table></figure><p>开放封闭原则</p><p>对配置文件开放</p><p>对源代码封闭</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> importlib</span><br><span class="line"></span><br><span class="line">middleware_classes = [</span><br><span class="line">    <span class="string">'utils.redis.Redis'</span>,</span><br><span class="line">    <span class="comment"># 'utils.mysql.MySQL',</span></span><br><span class="line">    <span class="string">'utils.mongo.Mongo'</span></span><br><span class="line">]</span><br><span class="line"><span class="keyword">for</span> path <span class="keyword">in</span> middleware_classes:</span><br><span class="line">    module_path,class_name = path.rsplit(<span class="string">'.'</span>,maxsplit=<span class="number">1</span>)</span><br><span class="line">    module_object = importlib.import_module(module_path)<span class="comment"># from utils import redis</span></span><br><span class="line">    cls = getattr(module_object,class_name)</span><br><span class="line">    obj = cls()</span><br><span class="line">    obj.connect()</span><br></pre></td></tr></table></figure><p><img src="C:%5CUsers%5C%E6%B7%A1%E5%93%81%E5%B2%81%E6%9C%88%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1556278593584.png" alt="1556278593584"></p><h2 id="collections模块"><a href="#collections模块" class="headerlink" title="collections模块"></a>collections模块</h2><p>加强版数据结构</p><h3 id="OrderedDict"><a href="#OrderedDict" class="headerlink" title="OrderedDict"></a>OrderedDict</h3><p>有序字典</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 示例一</span></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> OrderedDict</span><br><span class="line"></span><br><span class="line">info = OrderedDict()</span><br><span class="line">info[<span class="string">'k1'</span>] = <span class="number">123</span></span><br><span class="line">info[<span class="string">'k2'</span>] = <span class="number">456</span></span><br><span class="line"></span><br><span class="line">print(info.keys())	<span class="comment"># odict_keys(['k1', 'k2'])</span></span><br><span class="line">print(info.values())	<span class="comment"># odict_values([123, 456])</span></span><br><span class="line">print(info.items())	<span class="comment"># odict_items([('k1', 123), ('k2', 456)])</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例二</span></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> OrderedDict</span><br><span class="line">odic = OrderedDict([(<span class="string">'a'</span>, <span class="number">1</span>), (<span class="string">'b'</span>, <span class="number">2</span>), (<span class="string">'c'</span>, <span class="number">3</span>)])</span><br><span class="line">print(odic)		<span class="comment"># OrderedDict([('a', 1), ('b', 2), ('c', 3)])</span></span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> odic:</span><br><span class="line">    print(k,odic[k])</span><br></pre></td></tr></table></figure><h3 id="deque"><a href="#deque" class="headerlink" title="deque"></a>deque</h3><p>双端队列</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="defaultDict"><a href="#defaultDict" class="headerlink" title="defaultDict"></a>defaultDict</h3><p>默认字典，给value设置一个默认值</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="namedtuple"><a href="#namedtuple" class="headerlink" title="namedtuple"></a>namedtuple</h3><p>可命名元祖</p><p>应用：创建一个类，这个类没有办法，所有的属性的值都不能修改</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> namedtuple   <span class="comment"># 可命名元组</span></span><br><span class="line">Course = namedtuple(<span class="string">'Course'</span>,[<span class="string">'name'</span>,<span class="string">'price'</span>,<span class="string">'teacher'</span>])</span><br><span class="line">python = Course(<span class="string">'python'</span>,<span class="number">19800</span>,<span class="string">'alex'</span>)</span><br><span class="line">print(python)   <span class="comment"># Course(name='python', price=19800, teacher='alex')</span></span><br><span class="line">print(python.name)  <span class="comment"># python</span></span><br><span class="line">print(python.price) <span class="comment"># 19800</span></span><br></pre></td></tr></table></figure><h2 id="logging模块"><a href="#logging模块" class="headerlink" title="logging模块"></a>logging模块</h2><p>日志模块</p><h3 id="报警等级"><a href="#报警等级" class="headerlink" title="报警等级"></a>报警等级</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CRITICAL = <span class="number">50</span>	<span class="comment"># 最高</span></span><br><span class="line">FATAL = CRITICAL</span><br><span class="line">ERROR = <span class="number">40</span></span><br><span class="line">WARNING = <span class="number">30</span></span><br><span class="line">WARN = WARNING</span><br><span class="line">INFO = <span class="number">20</span></span><br><span class="line">DEBUG = <span class="number">10</span></span><br><span class="line">NOTSET = <span class="number">0</span>	<span class="comment"># 最低</span></span><br></pre></td></tr></table></figure><p>日志处理本质：Logger/FileHandler/Formatter</p><p>应用：统计用；做故障排除debug；记录错误，完成代码优化</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 示例一</span></span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line">file_handler1 = logging.FileHandler(<span class="string">'x2.log'</span>, <span class="string">'a'</span>, encoding=<span class="string">'utf-8'</span>)	<span class="comment"># 构造参数</span></span><br><span class="line">fmt1 = logging.Formatter(fmt=<span class="string">"%(asctime)s - %(name)s - %(levelname)s -%(module)s:  %(message)s"</span>)</span><br><span class="line">file_handler1.setFormatter(fmt1)</span><br><span class="line"></span><br><span class="line"><span class="comment"># file_handler2 = logging.FileHandler('x2.log', 'a', encoding='utf-8')</span></span><br><span class="line"><span class="comment"># fmt2 = logging.Formatter(fmt="%(asctime)s:  %(message)s")</span></span><br><span class="line"><span class="comment"># file_handler2.setFormatter(fmt2)</span></span><br><span class="line"></span><br><span class="line">logger = logging.Logger(<span class="string">'xxxxxx'</span>, level=logging.ERROR)</span><br><span class="line">logger.addHandler(file_handler1)</span><br><span class="line"><span class="comment"># logger.addHandler(file_handler2)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例二</span></span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line">logging.basicConfig(	<span class="comment"># 函数各参数</span></span><br><span class="line">    filename=<span class="string">'cmdb1.log'</span>,	<span class="comment"># 日志文件名称</span></span><br><span class="line">    format=<span class="string">'%(asctime)s - %(name)s - %(levelname)s -%(module)s:  %(message)s'</span>,	<span class="comment"># 指定日志输出格式和内容</span></span><br><span class="line">    datefmt=<span class="string">'%Y-%m-%d %H:%M:%S %p'</span>,	<span class="comment"># 指定时间格式</span></span><br><span class="line">    level=logging.ERROR	<span class="comment"># 日志报警等级</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 无效	日志只配置一次</span></span><br><span class="line">logging.basicConfig(</span><br><span class="line">    filename=<span class="string">'cmdb2.log'</span>,</span><br><span class="line">    format=<span class="string">'%(asctime)s - %(name)s - %(levelname)s -%(module)s:  %(message)s'</span>,</span><br><span class="line">    datefmt=<span class="string">'%Y-%m-%d %H:%M:%S %p'</span>,</span><br><span class="line">    level=logging.ERROR</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">logging.error(<span class="string">'alex'</span>)	<span class="comment"># 报警内容</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">logging.basicConfig函数各参数:</span><br><span class="line">filename: 指定日志文件名</span><br><span class="line">filemode: 和file函数意义相同，指定日志文件的打开模式，<span class="string">'w'</span>或<span class="string">'a'</span></span><br><span class="line">format: 指定输出的格式和内容，format可以输出很多有用信息，如上例所示:</span><br><span class="line"> %(levelno)s: 打印日志级别的数值</span><br><span class="line"> %(levelname)s: 打印日志级别名称</span><br><span class="line"> %(pathname)s: 打印当前执行程序的路径，其实就是sys.argv[<span class="number">0</span>]</span><br><span class="line"> %(filename)s: 打印当前执行程序名</span><br><span class="line"> %(funcName)s: 打印日志的当前函数</span><br><span class="line"> %(lineno)d: 打印日志的当前行号</span><br><span class="line"> %(asctime)s: 打印日志的时间</span><br><span class="line"> %(thread)d: 打印线程ID</span><br><span class="line"> %(threadName)s: 打印线程名称</span><br><span class="line"> %(process)d: 打印进程ID</span><br><span class="line"> %(message)s: 打印日志信息</span><br><span class="line">datefmt: 指定时间格式，同time.strftime()</span><br><span class="line">level: 设置日志级别，默认为logging.WARNING</span><br><span class="line">stream: 指定将日志的输出流，可以指定输出到sys.stderr,sys.stdout或者文件，默认输出到sys.stderr，当stream和filename同时指定时，stream被忽略</span><br><span class="line">---------------------</span><br></pre></td></tr></table></figure><h3 id="logging-basicconfig"><a href="#logging-basicconfig" class="headerlink" title="logging.basicconfig"></a>logging.basicconfig</h3><p>使用方便</p><p>不能实现编码问题；不能同时向文件和屏幕输出</p><h3 id="logging-debug"><a href="#logging-debug" class="headerlink" title="logging.debug"></a>logging.debug</h3><h3 id="logging-warning"><a href="#logging-warning" class="headerlink" title="logging.warning"></a>logging.warning</h3><p>logger对象 复杂的创建流程</p><ul><li>创建一个logger对象</li><li>创建一个文件操作符</li><li>创建一个屏幕操作符</li><li>创建一个格式</li></ul><p>操作;</p><ul><li><p>给logger对象绑定 文件操作符</p></li><li><p>给logger对象绑定 屏幕操作符</p></li><li><p>给文件操作符设定格式</p></li><li><p>给屏幕操作符设定格式</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line">logger = logging.getLogger()	<span class="comment"># 创建一个logger对象</span></span><br><span class="line">fh = logging.FileHandler(<span class="string">'log.log'</span>)	<span class="comment"># 创建一个文件操作符</span></span><br><span class="line">sh = logging.StreamHandler()	<span class="comment"># 创建一个屏幕操作符</span></span><br><span class="line">logger.addHandler(fh)	<span class="comment"># 给logger对象绑定 文件操作符</span></span><br><span class="line">logger.addHandler(sh)	<span class="comment"># 给logger对象绑定 屏幕操作符</span></span><br><span class="line">formatter = logging.Formatter(<span class="string">'%(asctime)s - %(name)s - %(levelname)s - %(message)s'</span>)	<span class="comment"># 创建一个格式</span></span><br><span class="line">fh.setFormatter(formatter)	<span class="comment"># 给文件操作符设定格式</span></span><br><span class="line">sh.setFormatter(formatter)	<span class="comment"># 给屏幕操作符设定格式</span></span><br><span class="line">logger.warning(<span class="string">'message'</span>)	<span class="comment">#</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="推荐处理日志方式"><a href="#推荐处理日志方式" class="headerlink" title="推荐处理日志方式"></a>推荐处理日志方式</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line">file_handler = logging.FileHandler(filename=<span class="string">'x1.log'</span>, mode=<span class="string">'a'</span>, encoding=<span class="string">'utf-8'</span>,)</span><br><span class="line">logging.basicConfig(</span><br><span class="line">    format=<span class="string">'%(asctime)s - %(name)s - %(levelname)s -%(module)s:  %(message)s'</span>,</span><br><span class="line">    datefmt=<span class="string">'%Y-%m-%d %H:%M:%S %p'</span>,</span><br><span class="line">    handlers=[file_handler,],</span><br><span class="line">    level=logging.ERROR</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">logging.error(<span class="string">'你好'</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 日志切割</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">from</span> logging <span class="keyword">import</span> handlers</span><br><span class="line"><span class="comment"># file_handler = logging.FileHandler(filename='x1.log', mode='a', encoding='utf-8',)</span></span><br><span class="line">file_handler = handlers.TimedRotatingFileHandler(filename=<span class="string">'x3.log'</span>, when=<span class="string">'s'</span>, interval=<span class="number">5</span>, encoding=<span class="string">'utf-8'</span>)</span><br><span class="line">logging.basicConfig(</span><br><span class="line">    format=<span class="string">'%(asctime)s - %(name)s - %(levelname)s -%(module)s:  %(message)s'</span>,</span><br><span class="line">    datefmt=<span class="string">'%Y-%m-%d %H:%M:%S %p'</span>,</span><br><span class="line">    handlers=[file_handler,],</span><br><span class="line">    level=logging.ERROR</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">100000</span>):</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">    logging.error(str(i))</span><br></pre></td></tr></table></figure><h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在应用日志时，如果想要保留异常的堆栈信息。</span></span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">logging.basicConfig(</span><br><span class="line">    filename=<span class="string">'wf.log'</span>,</span><br><span class="line">    format=<span class="string">'%(asctime)s - %(name)s - %(levelname)s -%(module)s:  %(message)s'</span>,</span><br><span class="line">    datefmt=<span class="string">'%Y-%m-%d %H:%M:%S %p'</span>,</span><br><span class="line">    level=logging.ERROR</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    requests.get(<span class="string">'http://www.xxx.com'</span>)</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    msg = str(e) <span class="comment"># 调用e.__str__方法</span></span><br><span class="line">    logging.error(msg,exc_info=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><h2 id="copy模块"><a href="#copy模块" class="headerlink" title="copy模块"></a>copy模块</h2><h2 id="re模块模块"><a href="#re模块模块" class="headerlink" title="re模块模块"></a>re模块模块</h2><h3 id="转义符"><a href="#转义符" class="headerlink" title="转义符"></a>转义符</h3><p>正则表达式中的转义符在python的字符串中也刚好有转移的作用但是正则表达式中的转义符和字符串中的转义符并没关系，且还容易有冲突，为了避免这种冲突，我们所有的正则都以在工具中的测试结果为结果，然后只需要在正则和待匹配的字符串外面都加r即可</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">'\\\\n'</span>)	<span class="comment"># //n</span></span><br><span class="line">print(<span class="string">'\\n'</span>)	<span class="comment"># /n</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">r'\\n'</span>)	<span class="comment"># //n</span></span><br><span class="line">print(<span class="string">r'\n'</span>)	<span class="comment"># /n</span></span><br></pre></td></tr></table></figure><h3 id="re-findall"><a href="#re-findall" class="headerlink" title="*re.findall   *"></a>*<em>re.findall *</em></h3><p><strong>匹配字符串中所有规则的项，返回一个列表；未匹配返回一个空列表</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">ret = re.findall(<span class="string">'\d+'</span>,<span class="string">'asadf451sdfdfb645d'</span>)</span><br><span class="line">print(ret)	<span class="comment"># ['451', '645']</span></span><br></pre></td></tr></table></figure><h3 id="re-search"><a href="#re-search" class="headerlink" title="*re.search  *"></a>*<em>re.search *</em></h3><p>** 会从头到尾从带匹配，匹配字符串取出第一个符合条件的项，如果匹配到了，返回一个对象，用group取值；如果没匹配到，返回None，不能用group，会报错**</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line">ret = re.search(<span class="string">'\d+'</span>,<span class="string">'asadf451sdfdfb645d'</span>)</span><br><span class="line">print(ret)	<span class="comment"># &lt;_sre.SRE_Match object; span=(5, 8), match='451'&gt;  span 是索引 match 是匹配到的项</span></span><br><span class="line"><span class="keyword">if</span> ret:</span><br><span class="line">    print(ret.group())	<span class="comment"># 451</span></span><br></pre></td></tr></table></figure><h3 id="re-match"><a href="#re-match" class="headerlink" title="*re.match   *"></a>*<em>re.match *</em></h3><p><strong>会从头匹配字符串中取出从第一个字符开始是否符合规则，如果符合，就返回对象，用group取值；如果不符合，就返回None，相当于 match = search + ^正则</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">ret = re.match(<span class="string">'\d+'</span>,<span class="string">'45adf451sdfdfb645d'</span>)</span><br><span class="line">print(ret)</span><br><span class="line"><span class="keyword">if</span> ret:</span><br><span class="line">    print(ret.group())</span><br></pre></td></tr></table></figure><h3 id="re-finditer"><a href="#re-finditer" class="headerlink" title="re.finditer"></a>re.finditer</h3><p>在查询的结果超过1个的情况下，能够有效的节省内存，降低空间复杂度，从而也降低了时间复杂度</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">ret = re.finditer(<span class="string">"\d+"</span>,<span class="string">'cdfz56x31d144df'</span>*<span class="number">1000</span>)</span><br><span class="line">print(ret)	<span class="comment"># &lt;callable_iterator object at 0x000002541A7874A8&gt;   迭代器</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> ret: <span class="comment"># 循环迭代出每个元素</span></span><br><span class="line">    print(i.group())	<span class="comment"># 56   31   144  ......</span></span><br></pre></td></tr></table></figure><h3 id="compile"><a href="#compile" class="headerlink" title="compile"></a>compile</h3><p>在同一个正则表达式重复使用多次的时候使用能够减少时间的开销，属于内置函数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">ret = re.compile(<span class="string">'\d+'</span>)</span><br><span class="line">print(ret)	<span class="comment"># re.compile('\\d+')</span></span><br><span class="line">r1 = ret.search(<span class="string">'alex83'</span>)</span><br><span class="line">print(r1)	<span class="comment"># &lt;_sre.SRE_Match object; span=(4, 6), match='83'&gt;</span></span><br><span class="line">r2 = ret.findall(<span class="string">'wusir74'</span>)</span><br><span class="line">print(r2)	<span class="comment"># ['74']</span></span><br><span class="line">r3 = ret.finditer(<span class="string">'taibai40'</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> r3:</span><br><span class="line">    print(i.group())	<span class="comment"># 40</span></span><br></pre></td></tr></table></figure><h3 id="re-split"><a href="#re-split" class="headerlink" title="re.split"></a>re.split</h3><p>分割，根据正则规则切割，返回列表，默认不保留切掉的内容</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line">ret1 = re.split(<span class="string">'\d\d'</span>,<span class="string">'alex83wusir74taibai'</span>)  <span class="comment"># 默认自动保留分组中的内容</span></span><br><span class="line">print(ret1)	<span class="comment"># ['alex', 'wusir', 'taibai']</span></span><br><span class="line"></span><br><span class="line">ret2 = re.split(<span class="string">'\d(\d)'</span>,<span class="string">'alex83wusir74taibai'</span>)</span><br><span class="line">print(ret2)	<span class="comment"># ['alex', '3', 'wusir', '4', 'taibai']</span></span><br></pre></td></tr></table></figure><h3 id="re-sub"><a href="#re-sub" class="headerlink" title="re.sub"></a>re.sub</h3><p>替换，默认替换所有，可以使用替换深度参数</p><h3 id="re-subn"><a href="#re-subn" class="headerlink" title="re.subn"></a>re.subn</h3><p>​ 替换，返回元祖</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">ret1 = re.sub(<span class="string">'\d'</span>,<span class="string">'D'</span>,<span class="string">'alex83wusir74taibai'</span>)</span><br><span class="line">print(ret1)	<span class="comment"># alexDDwusirDDtaibai</span></span><br><span class="line"></span><br><span class="line">ret2 = re.sub(<span class="string">'\d'</span>,<span class="string">'D'</span>,<span class="string">'alex83wusir74taibai'</span>,<span class="number">1</span>)</span><br><span class="line">print(ret2)	<span class="comment"># alexD3wusir74taibai</span></span><br><span class="line"></span><br><span class="line">ret3 = re.subn(<span class="string">'\d'</span>,<span class="string">'D'</span>,<span class="string">'alex83wusir74taibai'</span>)</span><br><span class="line">print(ret3)	<span class="comment"># ('alexDDwusirDDtaibai', 4)</span></span><br></pre></td></tr></table></figure><h3 id="分组"><a href="#分组" class="headerlink" title="分组"></a>分组</h3><p>findall遇到正则表达式中的分组，会优先显示分组中的内容</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">ret = re.findall(<span class="string">'\d(\d)'</span>,<span class="string">'sdfgfgvbnk83'</span>)</span><br><span class="line">print(ret)	<span class="comment"># ['3']</span></span><br></pre></td></tr></table></figure><p>split遇到正则表达式中的分组，会保留分组中本来应该被切割掉的内容</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line">ret1 = re.split(<span class="string">'(\d\d)'</span>,<span class="string">'alex83wusir74taibai'</span>)  <span class="comment"># 默认自动保留分组中的内容</span></span><br><span class="line">print(ret1)	<span class="comment"># ['alex', '83', 'wusir', '74', 'taibai']</span></span><br></pre></td></tr></table></figure><p>group(加参数)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">s1 = <span class="string">'&lt;h1&gt;wahaha&lt;/h1&gt;'</span></span><br><span class="line">ret = re.search(<span class="string">'&lt;(\w+)&gt;(.*?)&lt;/\w+&gt;'</span>,s1)</span><br><span class="line">print(ret)	<span class="comment"># &lt;_sre.SRE_Match object; span=(0, 15), match='&lt;h1&gt;wahaha&lt;/h1&gt;'&gt;</span></span><br><span class="line">print(ret.group(<span class="number">0</span>))   <span class="comment"># group参数默认为0 表示取整个正则匹配的结果  &lt;h1&gt;wahaha&lt;/h1&gt;</span></span><br><span class="line">print(ret.group(<span class="number">1</span>))   <span class="comment"># 取第一个分组中的内容	h1</span></span><br><span class="line">print(ret.group(<span class="number">2</span>))   <span class="comment"># 取第二个分组中的内容	wahaha</span></span><br></pre></td></tr></table></figure><p>分组命名 (?P&lt;名字&gt;正则表达式)</p><p>search 取分组中的内容 通过索引；通过组名取</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">s1 = <span class="string">'&lt;h1&gt;wahaha&lt;/h1&gt;'</span></span><br><span class="line">ret = re.search(<span class="string">'&lt;(?P&lt;tag&gt;\w+)&gt;(?P&lt;cont&gt;.*?)&lt;/\w+&gt;'</span>,s1)</span><br><span class="line">print(ret)	<span class="comment"># &lt;_sre.SRE_Match object; span=(0, 15), match='&lt;h1&gt;wahaha&lt;/h1&gt;'&gt;</span></span><br><span class="line">print(ret.group(<span class="number">0</span>))   <span class="comment"># group参数默认为0 表示取整个正则匹配的结果  &lt;h1&gt;wahaha&lt;/h1&gt;</span></span><br><span class="line">pprint(ret.group(<span class="string">'tag'</span>))   <span class="comment"># 取tag分组中的内容</span></span><br><span class="line">print(ret.group(<span class="string">'cont'</span>))   <span class="comment"># 取cont分组中的内容</span></span><br></pre></td></tr></table></figure><p>分组引用 (?P=组名) 这个组中的内容必须完全和之前已经存在的组匹配到的内容一模一样</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">s1 = <span class="string">'&lt;h1&gt;wahaha&lt;/h1&gt;'</span></span><br><span class="line">ret = re.search(<span class="string">'&lt;(?P&lt;tag&gt;\w+)&gt;.*?&lt;/(?P=tag)&gt;'</span>,s1)</span><br><span class="line">print(ret.group(<span class="string">'tag'</span>))	<span class="comment"># h1</span></span><br></pre></td></tr></table></figure><p>取消分组优先 （?:）</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 有的时候我们想匹配的内容包含在不相匹配的内容当中，这个时候只需要把不想匹配的先匹配出来，再通过手段去掉</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line">ret=re.findall(<span class="string">r"\d+\.\d+|(\d+)"</span>,<span class="string">"1-2*(60+(-40.35/5)-(-4*3))"</span>)</span><br><span class="line">print(ret)	<span class="comment"># ['1', '2', '60', '', '5', '4', '3']</span></span><br><span class="line">ret.remove(<span class="string">''</span>)</span><br><span class="line">print(ret)	<span class="comment"># ['1', '2', '60', '5', '4', '3']</span></span><br></pre></td></tr></table></figure><p>[] 和 [^] 带有特殊意义的元字符到字符组内大部分都会取消它的特殊含义</p><p>[()+*.]</p><p>[(<code>\-</code>)] -的位置决定了它的意义，写在字符组的第一位位置或者最后一个位置就表示一个普通的横杠</p><p>写在字符组的其他任何位置都会表示一个范围</p><h3 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 检测用户输入的内容是否是一个合法的身份证号     网页的合法输入（手机号码 qq号码 银行卡号 邮箱地址）</span></span><br><span class="line"><span class="string">'^[1-9]\d&#123;14&#125;(\d&#123;2&#125;[\dx])?$'</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line">inp = input(<span class="string">'&gt;&gt;&gt;'</span>).strip()</span><br><span class="line">re.match(<span class="string">'[1-9]\d&#123;14&#125;(\d&#123;2&#125;[\dx])?$'</span>,inp)   <span class="comment"># 首选</span></span><br><span class="line">re.search(<span class="string">'^[1-9]\d&#123;14&#125;(\d&#123;2&#125;[\dx])?$'</span>,inp)</span><br><span class="line">re.findall(<span class="string">'^[1-9]\d&#123;14&#125;(\d&#123;2&#125;[\dx])?$'</span>,inp)</span><br></pre></td></tr></table></figure><h2 id="struct模块"><a href="#struct模块" class="headerlink" title="struct模块"></a>struct模块</h2><p>pack 能够把所有的数字都固定的转换成4字节</p><h2 id="dis模块"><a href="#dis模块" class="headerlink" title="dis模块"></a>dis模块</h2><h3 id="dis-dis"><a href="#dis-dis" class="headerlink" title="dis.dis"></a>dis.dis</h3><p>查看计算机指令</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><h4 id="函数高级-5"><a href="#函数高级-5" class="headerlink" title="函数高级  5*"></a>函数高级 5*</h4><p>嵌套</p><p>装饰器</p><h4 id="模块分类和定义-4"><a href="#模块分类和定义-4" class="headerlink" title="模块分类和定义  4*"></a>模块分类和定义 4*</h4><p>内置模块</p><ul><li><p>os</p></li><li><p>sys</p></li><li><p>…</p></li></ul><p>第三方</p><ul><li><p>requests</p></li><li><p>xlrd</p></li></ul><p>自定义模块</p><ul><li><p>文件</p></li><li><p>文件夹 + init.py【包】</p></li></ul><h4 id="导入模块"><a href="#导入模块" class="headerlink" title="导入模块"></a>导入模块</h4><p>sys.path</p><p>导入</p><ul><li>import</li><li>from xx.xxx import xx</li></ul></div><div class="popular-posts-header">📚&nbsp;&nbsp;相关文章</div><ul class="popular-posts"><div class="popular-posts-item"><div class="popular-posts-title"><a href="\637384435.html" rel="bookmark">🏷️&nbsp;&nbsp;&nbsp;&nbsp;Python函数基础</a></div></div><div class="popular-posts-item"><div class="popular-posts-title"><a href="\4138033636.html" rel="bookmark">🏷️&nbsp;&nbsp;&nbsp;&nbsp;Python博文目录</a></div></div><div class="popular-posts-item"><div class="popular-posts-title"><a href="\3427980016.html" rel="bookmark">🏷️&nbsp;&nbsp;&nbsp;&nbsp;Python中的面向对象是谁的对象</a></div></div><div class="popular-posts-item"><div class="popular-posts-title"><a href="\2936349916.html" rel="bookmark">🏷️&nbsp;&nbsp;&nbsp;&nbsp;python模块介绍</a></div></div><div class="popular-posts-item"><div class="popular-posts-title"><a href="\1705878977.html" rel="bookmark">🏷️&nbsp;&nbsp;&nbsp;&nbsp;Python函数的高级</a></div></div></ul><style type="text/css">a:hover{text-decoration:none}</style><div><ul class="post-copyright"><li class="post-copyright-author"><strong>Post author:</strong></li><li class="post-copyright-link"><strong>Post link:</strong> <a href="http://www.danpinsuiyue.com/2354286169.html" title="Python基础模块大全">http://www.danpinsuiyue.com/2354286169.html</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> unless stating additionally.</li></ul></div><div><div><div style="margin-top:30px;text-align:center;color:#ccc;font-size:14px">-------------　　　　本文结束　<i class="fa fa-heart"></i>　感谢您的阅读　　　　-------------</div></div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/Python/" rel="tag"><i class="fa fa-tag"></i> Python</a></div><div class="post-widgets"><div class="wp_rating"><div style="color:rgba(0,0,0,.75);font-size:13px;letter-spacing:3px">(&gt;看完记得五星好评哦亲&lt;)</div><div id="wpac-rating"></div></div></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2936349916.html" rel="next" title="python模块介绍"><i class="fa fa-chevron-left"></i> python模块介绍</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/3427980016.html" rel="prev" title="Python中的面向对象是谁的对象">Python中的面向对象是谁的对象 <i class="fa fa-chevron-right"></i></a></div></div></footer></div></article><div class="post-spread"><div data-weibo-title="分享到微博" data-qq-title="分享到QQ" data-douban-title="分享到豆瓣" class="social-share" data-disabled="twitter,facebook" data-description="Share.js - 一键分享到微博，QQ空间，腾讯微博，人人，豆瓣">分享到：</div></div></div><div class="comments comment" id="comments"></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div id="sidebar-dimmer"></div><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">Table of Contents</li><li class="sidebar-nav-overview" data-target="site-overview-wrap">Overview</li></ul><section class="site-overview-wrap sidebar-panel"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" src="/images/touxiang.jpeg" alt><p class="site-author-name" itemprop="name"></p><p class="site-description motion-element" itemprop="description"></p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives"><span class="site-state-item-count">16</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"><span class="site-state-item-count">1</span> <span class="site-state-item-name">categories</span></div><div class="site-state-item site-state-tags"><span class="site-state-item-count">4</span> <span class="site-state-item-name">tags</span></div></nav><div class="feed-link motion-element"><a href="https://danpinsuiyue/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/dpsy921" target="_blank" title="Github"><i class="fa fa-fw fa-github"></i>Github</a> </span><span class="links-of-author-item"><a href="https://plus.google.com/" target="_blank" title="Google"><i class="fa fa-fw fa-google"></i>Google</a> </span><span class="links-of-author-item"><a href="https://www.baidu.com" target="_blank" title="Baidu"><i class="fa fa-fw fa-baidu"></i>Baidu</a></span></div><div id="music163player"><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="110" src="//music.163.com/outchain/player?type=0&id=2983388685&auto=0&height=90"></iframe></div></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#random模块"><span class="nav-number">1.</span> <span class="nav-text">random模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#random-randint"><span class="nav-number">1.1.</span> <span class="nav-text">random.randint</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#random-choice"><span class="nav-number">1.2.</span> <span class="nav-text">random.choice</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#random-sample"><span class="nav-number">1.3.</span> <span class="nav-text">random.sample</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#random-uniform"><span class="nav-number">1.4.</span> <span class="nav-text">random.uniform</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#random-shuffle"><span class="nav-number">1.5.</span> <span class="nav-text">random.shuffle</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#random-random"><span class="nav-number">1.6.</span> <span class="nav-text">random.random</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#hashlib模块"><span class="nav-number">2.</span> <span class="nav-text">hashlib模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#md5-sha"><span class="nav-number">2.1.</span> <span class="nav-text">md5/sha</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#hmac"><span class="nav-number">2.2.</span> <span class="nav-text">hmac</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#time-datetime模块"><span class="nav-number">3.</span> <span class="nav-text">time /datetime模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#time-time"><span class="nav-number">3.1.</span> <span class="nav-text">time.time</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#time-timezone"><span class="nav-number">3.2.</span> <span class="nav-text">time.timezone</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#time-sleep"><span class="nav-number">3.3.</span> <span class="nav-text">time.sleep</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#datetime-now"><span class="nav-number">3.4.</span> <span class="nav-text">datetime.now</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#timezone"><span class="nav-number">3.5.</span> <span class="nav-text">timezone</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#datetime-utcnow"><span class="nav-number">3.6.</span> <span class="nav-text">datetime.utcnow</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#strftime"><span class="nav-number">3.7.</span> <span class="nav-text">strftime</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#datetime-strptime"><span class="nav-number">3.8.</span> <span class="nav-text">datetime.strptime</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#timedelta"><span class="nav-number">3.9.</span> <span class="nav-text">timedelta</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#时间戳和datetime关系"><span class="nav-number">3.10.</span> <span class="nav-text">时间戳和datetime关系</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#getpass模块"><span class="nav-number">4.</span> <span class="nav-text">getpass模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#密码不显示（只能在终端运行）"><span class="nav-number">4.1.</span> <span class="nav-text">密码不显示（只能在终端运行）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sys模块"><span class="nav-number">5.</span> <span class="nav-text">sys模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#sys-getrefcount"><span class="nav-number">5.1.</span> <span class="nav-text">sys.getrefcount</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sys-getrecursionlimit"><span class="nav-number">5.2.</span> <span class="nav-text">sys.getrecursionlimit</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sys-stdout-writ"><span class="nav-number">5.3.</span> <span class="nav-text">sys.stdout.writ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sys-argv"><span class="nav-number">5.4.</span> <span class="nav-text">sys.argv</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sys-path"><span class="nav-number">5.5.</span> <span class="nav-text">sys.path</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#os模块"><span class="nav-number">6.</span> <span class="nav-text">os模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#os-path-exists-path"><span class="nav-number">6.1.</span> <span class="nav-text">os.path.exists(path)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#os-path-isfile-path"><span class="nav-number">6.2.</span> <span class="nav-text">os.path.isfile(path)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#os-path-basename-file-path"><span class="nav-number">6.3.</span> <span class="nav-text">*os.path.basename(file_path) *</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#os-stat-‘file’-st-size"><span class="nav-number">6.4.</span> <span class="nav-text">*os.stat(‘file’).st_size *</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#os-path-getsize-path"><span class="nav-number">6.5.</span> <span class="nav-text">*os.path.getsize(path) *</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#os-path-abspath"><span class="nav-number">6.6.</span> <span class="nav-text">*os.path.abspath() *</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#os-path-isabs-path"><span class="nav-number">6.7.</span> <span class="nav-text">*os.path.isabs(path) *</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#os-path-dirname"><span class="nav-number">6.8.</span> <span class="nav-text">*os.path.dirname *</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#os-path-join"><span class="nav-number">6.9.</span> <span class="nav-text">*os.path.join *</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#os-listdir"><span class="nav-number">6.10.</span> <span class="nav-text">os.listdir</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#os-walk"><span class="nav-number">6.11.</span> <span class="nav-text">*os.walk *</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#os-makedirs"><span class="nav-number">6.12.</span> <span class="nav-text">os.makedirs</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#os-renname"><span class="nav-number">6.13.</span> <span class="nav-text">os.renname</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#shtil模块"><span class="nav-number">7.</span> <span class="nav-text">shtil模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#shutil-rmtree"><span class="nav-number">7.1.</span> <span class="nav-text">shutil.rmtree</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#shutil-move"><span class="nav-number">7.2.</span> <span class="nav-text">shutil.move</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#shutil-make-archive"><span class="nav-number">7.3.</span> <span class="nav-text">shutil.make_archive</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#shutil-unpack-archive"><span class="nav-number">7.4.</span> <span class="nav-text">shutil.unpack_archive</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#json-pickle模块"><span class="nav-number">8.</span> <span class="nav-text">json / pickle模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#二者优缺点"><span class="nav-number">8.1.</span> <span class="nav-text">二者优缺点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#dumps"><span class="nav-number">8.2.</span> <span class="nav-text">dumps</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#loads"><span class="nav-number">8.3.</span> <span class="nav-text">loads</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#dump"><span class="nav-number">8.4.</span> <span class="nav-text">dump</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#load"><span class="nav-number">8.5.</span> <span class="nav-text">load</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#importlib模块"><span class="nav-number">9.</span> <span class="nav-text">importlib模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#collections模块"><span class="nav-number">10.</span> <span class="nav-text">collections模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#OrderedDict"><span class="nav-number">10.1.</span> <span class="nav-text">OrderedDict</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#deque"><span class="nav-number">10.2.</span> <span class="nav-text">deque</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#defaultDict"><span class="nav-number">10.3.</span> <span class="nav-text">defaultDict</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#namedtuple"><span class="nav-number">10.4.</span> <span class="nav-text">namedtuple</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#logging模块"><span class="nav-number">11.</span> <span class="nav-text">logging模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#报警等级"><span class="nav-number">11.1.</span> <span class="nav-text">报警等级</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#logging-basicconfig"><span class="nav-number">11.2.</span> <span class="nav-text">logging.basicconfig</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#logging-debug"><span class="nav-number">11.3.</span> <span class="nav-text">logging.debug</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#logging-warning"><span class="nav-number">11.4.</span> <span class="nav-text">logging.warning</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#推荐处理日志方式"><span class="nav-number">11.5.</span> <span class="nav-text">推荐处理日志方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#注意事项"><span class="nav-number">11.6.</span> <span class="nav-text">注意事项</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#copy模块"><span class="nav-number">12.</span> <span class="nav-text">copy模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#re模块模块"><span class="nav-number">13.</span> <span class="nav-text">re模块模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#转义符"><span class="nav-number">13.1.</span> <span class="nav-text">转义符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#re-findall"><span class="nav-number">13.2.</span> <span class="nav-text">*re.findall *</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#re-search"><span class="nav-number">13.3.</span> <span class="nav-text">*re.search *</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#re-match"><span class="nav-number">13.4.</span> <span class="nav-text">*re.match *</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#re-finditer"><span class="nav-number">13.5.</span> <span class="nav-text">re.finditer</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#compile"><span class="nav-number">13.6.</span> <span class="nav-text">compile</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#re-split"><span class="nav-number">13.7.</span> <span class="nav-text">re.split</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#re-sub"><span class="nav-number">13.8.</span> <span class="nav-text">re.sub</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#re-subn"><span class="nav-number">13.9.</span> <span class="nav-text">re.subn</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#分组"><span class="nav-number">13.10.</span> <span class="nav-text">分组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#练习"><span class="nav-number">13.11.</span> <span class="nav-text">练习</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#struct模块"><span class="nav-number">14.</span> <span class="nav-text">struct模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#dis模块"><span class="nav-number">15.</span> <span class="nav-text">dis模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#dis-dis"><span class="nav-number">15.1.</span> <span class="nav-text">dis.dis</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#总结"><span class="nav-number">16.</span> <span class="nav-text">总结</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#函数高级-5"><span class="nav-number">16.0.1.</span> <span class="nav-text">函数高级 5*</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#模块分类和定义-4"><span class="nav-number">16.0.2.</span> <span class="nav-text">模块分类和定义 4*</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#导入模块"><span class="nav-number">16.0.3.</span> <span class="nav-text">导入模块</span></a></li></ol></li></ol></div></div></section><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span id="scrollpercent"><span>0</span>%</span></div></div></aside></div></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2019</span> <span class="with-love"><font color="red"><i class="fa fa-heartbeat" aria-hidden="true"></i></font> </span><span class="author" itemprop="copyrightHolder"></span> &nbsp;<a href><font size="1px"><font color="#222">京ICP备19036394号</font></font></a></div><div style="width:300px;margin:0 auto;padding:0 0"><a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=13082602000027" style="display:inline-block;text-decoration:none;height:20px;line-height:20px"><img src="http://cdn.danpinsuiyue.com/%E5%A4%87%E6%A1%88%E5%9B%BE%E6%A0%87.png" style="float:left;width:10%;height:auto"><p style="float:left;height:20px;line-height:20px;margin:0 0 0 5px;color:#555;letter-spacing:0"><font size="1px"><font color="#222">冀公网安备 13082602000027号</font></font></p></a></div><div class="busuanzi-count"><script async src="/js/src/busuanzi.pure.mini.js"></script><span class="site-uv"><i class="fa fa-user"></i> <span class="busuanzi-value" id="busuanzi_value_site_uv"></span> </span><span class="site-pv"><i class="fa fa-eye"></i> <span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span></div></div></footer></div><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-backstretch/2.0.4/jquery.backstretch.min.js"></script><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="/js/src/Valine.min.js"></script><script type="text/javascript">var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: false,
        appId: 'f8Ptq1eG3eJ0gKEquXMKqByc-gzGzoHsz',
        appKey: 'NYxE4BEaEzXiEOmfLqJvHoSD',
        placeholder: '(๑•́ ₃ •̀๑) 留言时填写您的邮箱可以邮件收到博主的回复噢~',
        avatar:'mm',
        guest_info:guest,
        pageSize:'10' || 10,
    });</script><script type="text/javascript">function proceedsearch(){$("body").append('<div class="search-popup-overlay local-search-pop-overlay"></div>').css("overflow","hidden"),$(".search-popup-overlay").click(onPopupClose),$(".popup").toggle();var t=$("#local-search-input");t.attr("autocapitalize","none"),t.attr("autocorrect","off"),t.focus()}var isfetched=!1,isXml=!0,search_path="search.xml";0===search_path.length?search_path="search.xml":/json$/i.test(search_path)&&(isXml=!1);var path="/"+search_path,onPopupClose=function(t){$(".popup").hide(),$("#local-search-input").val(""),$(".search-result-list").remove(),$("#no-result").remove(),$(".local-search-pop-overlay").remove(),$("body").css("overflow","")},searchFunc=function(t,e,o){"use strict";$("body").append('<div class="search-popup-overlay local-search-pop-overlay"><div id="search-loading-icon"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div>').css("overflow","hidden"),$("#search-loading-icon").css("margin","20% auto 0 auto").css("text-align","center"),$.ajax({url:t,dataType:isXml?"xml":"json",async:!0,success:function(t){isfetched=!0,$(".popup").detach().appendTo(".header-inner");var n=isXml?$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get():t,r=document.getElementById(e),s=document.getElementById(o),a=function(){var t=r.value.trim().toLowerCase(),e=t.split(/[\s\-]+/);e.length>1&&e.push(t);var o=[];if(t.length>0&&n.forEach(function(n){function r(e,o,n,r){for(var s=r[r.length-1],a=s.position,i=s.word,l=[],h=0;a+i.length<=n&&0!=r.length;){i===t&&h++,l.push({position:a,length:i.length});var p=a+i.length;for(r.pop();0!=r.length&&(s=r[r.length-1],a=s.position,i=s.word,p>a);)r.pop()}return c+=h,{hits:l,start:o,end:n,searchTextCount:h}}function s(t,e){var o="",n=e.start;return e.hits.forEach(function(e){o+=t.substring(n,e.position);var r=e.position+e.length;o+='<b class="search-keyword">'+t.substring(e.position,r)+"</b>",n=r}),o+=t.substring(n,e.end)}var a=!1,i=0,c=0,l=n.title.trim(),h=l.toLowerCase(),p=n.content.trim().replace(/<[^>]+>/g,""),u=p.toLowerCase(),f=decodeURIComponent(n.url),d=[],g=[];if(""!=l&&(e.forEach(function(t){function e(t,e,o){var n=t.length;if(0===n)return[];var r=0,s=[],a=[];for(o||(e=e.toLowerCase(),t=t.toLowerCase());(s=e.indexOf(t,r))>-1;)a.push({position:s,word:t}),r=s+n;return a}d=d.concat(e(t,h,!1)),g=g.concat(e(t,u,!1))}),(d.length>0||g.length>0)&&(a=!0,i=d.length+g.length)),a){[d,g].forEach(function(t){t.sort(function(t,e){return e.position!==t.position?e.position-t.position:t.word.length-e.word.length})});var v=[];0!=d.length&&v.push(r(l,0,l.length,d));for(var $=[];0!=g.length;){var C=g[g.length-1],m=C.position,x=C.word,w=m-20,y=m+80;0>w&&(w=0),y<m+x.length&&(y=m+x.length),y>p.length&&(y=p.length),$.push(r(p,w,y,g))}$.sort(function(t,e){return t.searchTextCount!==e.searchTextCount?e.searchTextCount-t.searchTextCount:t.hits.length!==e.hits.length?e.hits.length-t.hits.length:t.start-e.start});var T=parseInt("1");T>=0&&($=$.slice(0,T));var b="";b+=0!=v.length?"<li><a href='"+f+"' class='search-result-title'>"+s(l,v[0])+"</a>":"<li><a href='"+f+"' class='search-result-title'>"+l+"</a>",$.forEach(function(t){b+="<a href='"+f+'\'><p class="search-result">'+s(p,t)+"...</p></a>"}),b+="</li>",o.push({item:b,searchTextCount:c,hitCount:i,id:o.length})}}),1===e.length&&""===e[0])s.innerHTML='<div id="no-result"><i class="fa fa-search fa-5x" /></div>';else if(0===o.length)s.innerHTML='<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>';else{o.sort(function(t,e){return t.searchTextCount!==e.searchTextCount?e.searchTextCount-t.searchTextCount:t.hitCount!==e.hitCount?e.hitCount-t.hitCount:e.id-t.id});var a='<ul class="search-result-list">';o.forEach(function(t){a+=t.item}),a+="</ul>",s.innerHTML=a}};r.addEventListener("input",a),$(".local-search-pop-overlay").remove(),$("body").css("overflow",""),proceedsearch()}})};$(".popup-trigger").click(function(t){t.stopPropagation(),isfetched===!1?searchFunc(path,"local-search-input","local-search-result"):proceedsearch()}),$(".popup-btn-close").click(onPopupClose),$(".popup").click(function(t){t.stopPropagation()}),$(document).on("keyup",function(t){var e=27===t.which&&$(".search-popup").is(":visible");e&&onPopupClose()})</script><script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script><script>AV.initialize("f8Ptq1eG3eJ0gKEquXMKqByc-gzGzoHsz","NYxE4BEaEzXiEOmfLqJvHoSD")</script><script>function showTime(e){var t=new AV.Query(e),n=[],o=$(".leancloud_visitors");o.each(function(){n.push($(this).attr("id").trim())}),t.containedIn("url",n),t.find().done(function(e){var t=".leancloud-visitors-count";if(0===e.length)return void o.find(t).text(0);for(var i=0;i<e.length;i++){var r=e[i],s=r.get("url"),l=r.get("time"),c=document.getElementById(s);$(c).find(t).text(l)}for(var i=0;i<n.length;i++){var s=n[i],c=document.getElementById(s),u=$(c).find(t);""==u.text()&&u.text(0)}}).fail(function(e,t){console.log("Error: "+t.code+" "+t.message)})}function addCount(e){var t=$(".leancloud_visitors"),n=t.attr("id").trim(),o=t.attr("data-flag-title").trim(),i=new AV.Query(e);i.equalTo("url",n),i.find({success:function(t){if(t.length>0){var i=t[0];i.fetchWhenSave(!0),i.increment("time"),i.save(null,{success:function(e){var t=$(document.getElementById(n));t.find(".leancloud-visitors-count").text(e.get("time"))},error:function(e,t){console.log("Failed to save Visitor num, with error message: "+t.message)}})}else{var r=new e,s=new AV.ACL;s.setPublicReadAccess(!0),s.setPublicWriteAccess(!0),r.setACL(s),r.set("title",o),r.set("url",n),r.set("time",1),r.save(null,{success:function(e){var t=$(document.getElementById(n));t.find(".leancloud-visitors-count").text(e.get("time"))},error:function(e,t){console.log("Failed to create")}})}},error:function(e){console.log("Error:"+e.code+" "+e.message)}})}$(function(){var e=AV.Object.extend("Counter");1==$(".leancloud_visitors").length?addCount(e):$(".post-title-link").length>1&&showTime(e)})</script><script>!function(){var t=document.createElement("script"),s=window.location.protocol.split(":")[0];"https"===s?t.src="https://zz.bdstatic.com/linksubmit/push.js":t.src="http://push.zhanzhang.baidu.com/push.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()</script><script type="text/javascript">wpac_init=window.wpac_init||[],wpac_init.push({widget:"Rating",id:17880,el:"wpac-rating",color:"f79533"}),function(){if(!("WIDGETPACK_LOADED"in window)){WIDGETPACK_LOADED=!0;var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//embed.widgetpack.com/widget.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t.nextSibling)}}()</script><script>$(".highlight").each(function(e,t){var n=$("<div>").addClass("highlight-wrap");$(t).after(n),n.append($("<button>").addClass("copy-btn").append("Copy").on("click",function(e){var t=$(this).parent().find(".code").find(".line").map(function(e,t){return $(t).text()}).toArray().join("\n"),n=document.createElement("textarea"),o=window.pageYOffset||document.documentElement.scrollTop;n.style.top=o+"px",n.style.position="absolute",n.style.opacity="0",n.readOnly=!0,n.value=t,document.body.appendChild(n),n.select(),n.setSelectionRange(0,t.length),n.readOnly=!1;var a=document.execCommand("copy");a?$(this).text("Copied"):$(this).text("Copy failed"),n.blur(),$(this).blur()})).on("mouseleave",function(e){var t=$(this).find(".copy-btn");setTimeout(function(){t.text("Copy")},300)}).append(t)})</script><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="/js/src/Valine.min.js"></script><script type="text/javascript">var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: false,
        appId: 'f8Ptq1eG3eJ0gKEquXMKqByc-gzGzoHsz',
        appKey: 'NYxE4BEaEzXiEOmfLqJvHoSD',
        placeholder: '(๑•́ ₃ •̀๑) 留言时填写您的邮箱可以邮件收到博主的回复噢~',
        avatar:'mm',
        guest_info:guest,
        pageSize:'10' || 10,
    });</script><script type="text/javascript" src="/js/src/clicklove.js"></script><script type="text/javascript" src="/js/src/linkcard.js"></script><script type="text/javascript" src="/js/src/love.js"></script><script src="/dist/js/social-share.min.js"></script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{jsonPath:"/live2dw/assets/tororo.model.json"},display:{superSample:2,width:120,height:100,position:"left // 模型在网页显示位置",hOffset:20,vOffset:50},mobile:{show:"true  // 移动设备是否显示",scale:.5},react:{opacityDefault:.7,opacityOnHover:.2},log:!1})</script></body></html><!-- rebuild by neat -->